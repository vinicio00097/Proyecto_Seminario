(function(e){function t(t){for(var s,n,r=t[0],l=t[1],c=t[2],p=0,v=[];p<r.length;p++)n=r[p],i[n]&&v.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(v.length)v.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},o=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},4331:function(e,t,a){"use strict";var s=a("5434"),i=a.n(s);i.a},5434:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",flat:"",color:"deep-orange"}},[a("v-app-bar-nav-icon",{on:{click:function(t){return e.$emit("openClose")}}}),a("v-toolbar-title",{staticClass:"headline"},[a("span",[e._v(e._s(this.$route.matched[0].name))])]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("search")])],1),a("v-menu",{attrs:{origin:"center center",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{icon:""}},s),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",e._l(e.$app_bar_actions,function(t){return a("v-list-item",{key:t.index,on:{click:function(){}}},[a("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1)],1),a("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center",align:"center"}},[a("p",{staticClass:"title"},[e._v("Inicio")])])],1)},i=[],o={methods:{}},n=o,r=a("2877"),l=a("6544"),c=a.n(l),d=a("7496"),p=a("40dc"),v=a("5bc1"),u=a("8336"),m=a("132d"),h=a("8860"),b=a("da13"),g=a("5d23"),f=a("e449"),_=a("0fd9"),w=a("2fa4"),D=a("2a7f"),k=Object(r["a"])(n,s,i,!1,null,null,null),C=k.exports;c()(k,{VApp:d["a"],VAppBar:p["a"],VAppBarNavIcon:v["a"],VBtn:u["a"],VIcon:m["a"],VList:h["a"],VListItem:b["a"],VListItemTitle:g["c"],VMenu:f["a"],VRow:_["a"],VSpacer:w["a"],VToolbarTitle:D["a"]});var S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",flat:"",color:"deep-orange"}},[a("v-app-bar-nav-icon",{on:{click:function(t){return e.$emit("openClose")}}}),a("v-toolbar-title",{staticClass:"headline"},[a("span",[e._v(e._s(this.$route.matched[0].name))])]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("search")])],1),a("v-menu",{attrs:{origin:"center center",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{icon:""}},s),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",e._l(e.$app_bar_actions,function(t){return a("v-list-item",{key:t.index,on:{click:function(){}}},[a("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1)],1),e.isLoaded?e._e():a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-progress-circular",{attrs:{size:70,width:7,color:"deep-orange",indeterminate:""}})],1)],1),e.isLoaded?a("v-row",{staticClass:"ma-0"},[a("v-dialog",{attrs:{"max-width":"325",persistent:"add"==e.accion},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},["delete"==e.accion?a("v-card-title",{staticClass:"headline"},[e._v("Confirmación")]):e._e(),"add"==e.accion?a("v-card-title",{staticClass:"headline"},[e._v("Nuevo usuario")]):e._e(),"edit"==e.accion?a("v-card-title",{staticClass:"headline"},[e._v("Edición usuario")]):e._e(),"delete"==e.accion?a("v-card-text",[e._v('\n                Desea eliminar el usuario "'+e._s(e.selectedUser.usuarioEmail)+'"?\n                ')]):e._e(),"add"==e.accion||"edit"==e.accion?a("v-card-text",[a("v-form",{ref:"userAddForm"},[a("v-text-field",{attrs:{outlined:"",color:"deep-orange",counter:50,rules:e.userForm.namesRules,label:"Nombres",autocomplete:"off",required:""},model:{value:e.userForm.names,callback:function(t){e.$set(e.userForm,"names",t)},expression:"userForm.names"}}),a("v-text-field",{attrs:{outlined:"",color:"deep-orange",counter:50,rules:e.userForm.lastNamesRules,label:"Apellidos",autocomplete:"off",required:""},model:{value:e.userForm.lastNames,callback:function(t){e.$set(e.userForm,"lastNames",t)},expression:"userForm.lastNames"}}),a("v-text-field",{attrs:{outlined:"",color:"deep-orange",rules:e.userForm.emailRules,label:"Correo eletrónico",autocomplete:"off",required:""},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}}),a("v-select",{attrs:{"item-color":"deep-orange lighten-2",outlined:"",color:"deep-orange",items:e.rangesData,"item-text":"nombre","item-value":"idRango",rules:e.userForm.selectedRangeRules,label:"Rangos",autocomplete:"off",required:"","return-object":""},model:{value:e.userForm.selectedRange,callback:function(t){e.$set(e.userForm,"selectedRange",t)},expression:"userForm.selectedRange"}})],1)],1):e._e(),"add"==e.accion?a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1,e.$refs.userAddForm.reset()}}},[e._v("\n                        Cancelar\n                    ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.addUser()}}},[e._v("\n                        Guardar\n                    ")])],1):e._e(),"edit"==e.accion?a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1,e.$refs.userAddForm.reset()}}},[e._v("\n                        Cancelar\n                    ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.updateUser()}}},[e._v("\n                        Guardar\n                    ")])],1):e._e(),"delete"==e.accion?a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                        No\n                    ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.deleteUser()}}},[e._v("\n                        Si\n                    ")])],1):e._e()],1)],1),e._l(e.usersData,function(t){return t.idUsuario!=e.$session_token.user_id?a("v-col",{key:t.idUsuario,attrs:{xs:"12",sm:"6",md:"4",lg:"3",xl:"2",cols:"12"}},[a("v-card",{staticClass:"mx-auto rounded-0",attrs:{"max-width":"400",hover:""}},[a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-0",attrs:{lg:"9",cols:"9"}},[a("v-card-title",[e._v(e._s(t.usuarioEmail))])],1),a("v-col",{staticClass:"pa-0"},[a("v-row",{staticClass:"ma-0"},[a("v-spacer"),a("v-btn",{attrs:{icon:"",large:""},on:{click:function(a){return e.cardActionActivation("delete",t)}}},[a("v-icon",[e._v("\n                                clear\n                            ")])],1)],1)],1)],1),a("v-card-text",[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Nombre")]),e._v("\n                    "+e._s(t.nombres)+" "+e._s(t.apellidos)+"\n                ")]),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("verified_user")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Rango")]),a("v-list-item-subtitle",[e._v(e._s("1"==t.rango?"Administrador":"Estándar"))])],1)],1),a("v-card-actions",[a("v-layout",{staticClass:"ma-0",attrs:{row:"","justify-center":""}},[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.cardActionActivation("edit",t)}}},[a("v-icon",[e._v("edit")])],1)],1)],1)],1)],1):e._e()})],2):e._e(),a("v-fab-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],attrs:{color:"deep-orange",dark:"",fixed:"",large:"",bottom:"",right:"",fab:""},on:{click:function(t){return e.cardActionActivation("add")}}},[a("v-icon",[e._v("add")])],1)],1),a("v-snackbar",{attrs:{color:e.usersSnackbar.style,timeout:e.usersSnackbar.timeout},model:{value:e.usersSnackbar.active,callback:function(t){e.$set(e.usersSnackbar,"active",t)},expression:"usersSnackbar.active"}},[e._v("\n    "+e._s(e.usersSnackbar.text)+"\n        "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.usersSnackbar.active=!1}}},[e._v("\n        Cerrar\n        ")])],1)],1)},x=[],y={data:()=>({usersData:[],rangesData:[],selectedUser:Object,isLoaded:!1,dialog:!1,loaderCard:null,accion:String,usersSnackbar:{active:!1,text:String,timeout:6e3,style:String},userForm:{names:"",namesRules:[e=>!!e||"Nombres es requerido",e=>e&&e.length<=50||"Nombres debe ser menor o igual a 50"],lastNames:"",lastNamesRules:[e=>!!e||"Apellidos es requerido",e=>e&&e.length<=50||"Apellidos debe ser menor o igual a 50"],email:"",emailRules:[e=>!!e||"Correo electrónico es requerido",e=>/.+@.+\..+/.test(e)||"Correo electrónico debe ser valido"],selectedRange:"",selectedRangeRules:[e=>!!e||"Rango es requerido"]}}),methods:{async loadUsers(){await this.$axios.get(this.$webServicesBaseURL+"Home/Usuarios",{withCredentials:!0}).then(e=>{200==e.status&&31==e.data.code&&(this.usersData=e.data.data)})},async loadRanges(){await this.$axios.get(this.$webServicesBaseURL+"Ranges",{withCredentials:!0}).then(e=>{200==e.status&&61==e.data.code&&(this.rangesData=e.data.data)})},async deleteUser(){this.loaderCard="deep-orange",await this.$axios.delete(this.$webServicesBaseURL+"Home/Usuarios/Delete/"+this.selectedUser.idUsuario,{withCredentials:!0}).then(e=>{200==e.status&&39==e.data.code&&(this.usersData.splice(this.usersData.indexOf(this.selectedUser),1),this.showSnackbar(this.selectedUser.nombres+" "+this.selectedUser.apellidos,"success",2))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?(30==e.response.data.code&&this.usersData.splice(this.usersData.indexOf(this.selectedUser),1),this.showSnackbar(e.response.data.message,"error",1e3)):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.dialog=!1},async addUser(){if(this.$refs.userAddForm.validate()){let e={nombres:this.userForm.names,apellidos:this.userForm.lastNames,usuarioEmail:this.userForm.email,rango:this.userForm.selectedRange.idRango};this.loaderCard="deep-orange",await this.$axios.post(this.$webServicesBaseURL+"Home/Usuarios/Create",e,{withCredentials:!0}).then(t=>{200==t.status&&32==t.data.code&&(e.idUsuario=t.data.data.idUsuario,this.usersData.push(e),this.$refs.userAddForm.reset(),this.showSnackbar(e.nombres+" "+e.apellidos,"success",1))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.dialog=!1}},async updateUser(){if(this.$refs.userAddForm.validate()){let e={idUsuario:this.selectedUser.idUsuario,nombres:this.userForm.names,apellidos:this.userForm.lastNames,usuarioEmail:this.userForm.email,rango:this.userForm.selectedRange.idRango};this.loaderCard="deep-orange",await this.$axios.put(this.$webServicesBaseURL+"Home/Usuarios/Edit/"+e.idUsuario,e,{withCredentials:!0}).then(t=>{200==t.status&&33==t.data.code&&(this.selectedUser.nombres=e.nombres,this.selectedUser.apellidos=e.apellidos,this.selectedUser.usuarioEmail=e.usuarioEmail,this.selectedUser.rango=e.rango,this.$refs.userAddForm.reset(),this.showSnackbar(this.selectedUser.nombres+" "+this.selectedUser.apellidos,"success",3))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?(30==e.response.data.code&&this.usersData.splice(this.usersData.indexOf(this.selectedUser),1),this.showSnackbar(e.response.data.message,"error",1e3)):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.dialog=!1}},async initializeAll(){await this.loadUsers(),await this.loadRanges(),this.isLoaded=!0},cardActionActivation(e,t){this.accion=e,this.selectedUser=t,"edit"==e&&(this.userForm.names=this.selectedUser.nombres,this.userForm.lastNames=this.selectedUser.apellidos,this.userForm.email=this.selectedUser.usuarioEmail,this.userForm.selectedRange=this.rangesData.find(e=>e.idRango==this.selectedUser.rango)),this.dialog=!0},showSnackbar(e,t,a){switch(this.usersSnackbar.active=!1,a){case 1:this.usersSnackbar.text='Usuario "'+e+'" agregado.';break;case 2:this.usersSnackbar.text='Usuario "'+e+'" eliminado.';break;case 3:this.usersSnackbar.text='Usuario "'+e+'" actualizado.';break}this.usersSnackbar.active=!0,this.usersSnackbar.style=t}},created(){this.initializeAll()},mounted(){}},V=y,T=a("b0af"),I=a("99d9"),P=a("62ad"),F=a("169a"),$=a("0789"),A=a("4bd4"),R=a("a722"),L=a("34c3"),N=a("490a"),U=a("b974"),O=a("2db4"),j=a("8654"),E=Object(r["a"])(V,S,x,!1,null,null,null),B=E.exports;c()(E,{VApp:d["a"],VAppBar:p["a"],VAppBarNavIcon:v["a"],VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:P["a"],VDialog:F["a"],VFabTransition:$["c"],VForm:A["a"],VIcon:m["a"],VLayout:R["a"],VList:h["a"],VListItem:b["a"],VListItemContent:g["a"],VListItemIcon:L["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VMenu:f["a"],VProgressCircular:N["a"],VRow:_["a"],VSelect:U["a"],VSnackbar:O["a"],VSpacer:w["a"],VTextField:j["a"],VToolbarTitle:D["a"]});var z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",flat:"",color:"deep-orange"}},[a("v-app-bar-nav-icon",{on:{click:function(t){return e.$emit("openClose")}}}),a("v-toolbar-title",{staticClass:"headline"},[a("span",[e._v(e._s(this.$route.matched[0].name))])]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("search")])],1),a("v-menu",{attrs:{origin:"center center",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{icon:""}},s),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",e._l(e.$app_bar_actions,function(t){return a("v-list-item",{key:t.index,on:{click:function(){}}},[a("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1)],1),e.isLoaded?e._e():a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-progress-circular",{attrs:{size:70,width:7,color:"deep-orange",indeterminate:""}})],1)],1),e.isLoaded?a("v-row",{staticClass:"ma-0"},[a("v-dialog",{attrs:{scrollable:"","max-width":"450",persistent:""},model:{value:e.newTemplateDialog,callback:function(t){e.newTemplateDialog=t},expression:"newTemplateDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},[a("v-card-title",{staticClass:"headline"},[e._v("Nueva plantilla")]),a("v-card-text",[a("div",{staticClass:"title text--secondary"},[e._v("Información de plantilla")]),a("v-row",{staticClass:"pa-1"}),a("v-form",{ref:"newTemplateForm"},[a("v-text-field",{attrs:{outlined:"",color:"deep-orange",counter:50,rules:e.newTemplate.nombreRules,label:"Nombre",autocomplete:"off",required:""},model:{value:e.newTemplate.nombre,callback:function(t){e.$set(e.newTemplate,"nombre",t)},expression:"newTemplate.nombre"}}),a("v-text-field",{attrs:{outlined:"",color:"deep-orange",counter:50,rules:e.newTemplate.descripcionRules,label:"Descripción",autocomplete:"off",required:""},model:{value:e.newTemplate.descripcion,callback:function(t){e.$set(e.newTemplate,"descripcion",t)},expression:"newTemplate.descripcion"}})],1),a("v-divider"),a("div",{staticClass:"title text--secondary"},[e._v("Campos de información")]),a("v-row",{staticClass:"pa-1"}),a("v-dialog",{attrs:{"max-width":"300",scrollable:""},model:{value:e.newFieldDialog,callback:function(t){e.newFieldDialog=t},expression:"newFieldDialog"}},[a("v-card",["add"==e.newFieldDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Nuevo campo")]):e._e(),"edit"==e.newFieldDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Edición campo")]):e._e(),"delete"==e.newFieldDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Confirmación")]):e._e(),"delete"!=e.newFieldDialogAction?a("v-card-text",[a("v-form",{ref:"newFieldForm"},[a("v-text-field",{attrs:{solo:"",color:"deep-orange",counter:50,rules:e.newField.nombreCampoRules,label:"Nombre de campo",autocomplete:"off",required:""},model:{value:e.newField.nombreCampo,callback:function(t){e.$set(e.newField,"nombreCampo",t)},expression:"newField.nombreCampo"}}),a("v-select",{attrs:{solo:"","item-color":"deep-orange lighten-2",color:"deep-orange",items:e.fieldTypeData,"item-text":"nombre","item-value":"idTipoDato",rules:e.newField.tipoDatoNavigationRules,label:"Tipo de campo",autocomplete:"off",required:"","return-object":""},model:{value:e.newField.tipoDatoNavigation,callback:function(t){e.$set(e.newField,"tipoDatoNavigation",t)},expression:"newField.tipoDatoNavigation"}})],1)],1):e._e(),"delete"==e.newFieldDialogAction?a("v-card-text",[e._v('\n                                Desea eliminar el campo "'+e._s(e.selectedField.nombreCampo)+'"?\n                            ')]):e._e(),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),"add"==e.newFieldDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.addFields()}}},[e._v("\n                                    Agregar\n                                ")]):e._e(),"edit"==e.newFieldDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.updateField()}}},[e._v("\n                                    Guardar\n                                ")]):e._e(),"delete"==e.newFieldDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.deleteField(e.selectedField)}}},[e._v("\n                                    Eliminar\n                                ")]):e._e()],1)],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-badge",{attrs:{color:"teal"},scopedSlots:e._u([{key:"badge",fn:function(){return[e._v(e._s(e.newTemplate.Campos.length))]},proxy:!0}],null,!1,2716843942)},[a("v-btn",{attrs:{outlined:"",rounded:""},on:{click:function(t){return e.openFieldDialog("add")}}},[e._v("Agregar campo\n                            ")])],1)],1),a("v-row",{staticClass:"pa-2"}),a("div",{staticClass:"scrolling-wrapper"},[e._l(e.newTemplate.Campos,function(t){return a("div",{key:t.idPlantillaCampo,staticClass:"card"},[a("v-card",{staticClass:"mx-auto flex-row",attrs:{width:"300",hover:""}},[a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-0",attrs:{lg:"9",cols:"9"}},[a("v-card-title",[e._v(e._s(t.nombreCampo))])],1),a("v-col",{staticClass:"pa-0"},[a("v-row",{staticClass:"ma-0"},[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.openFieldDialog("delete",t)}}},[a("v-icon",[e._v("\n                                                    clear\n                                                ")])],1)],1)],1)],1),a("v-card-text",[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Tipo de campo")]),e._v("\n                                    "+e._s(t.tipoDatoNavigation.nombre)+"\n                                ")]),a("v-card-actions",[a("v-layout",{staticClass:"ma-0",attrs:{row:"","justify-center":""}},[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.openFieldDialog("edit",t)}}},[a("v-icon",[e._v("edit")])],1)],1)],1)],1)],1)}),a("div",{staticClass:"card"})],2),a("v-row",{staticClass:"pa-2"}),a("v-divider"),a("div",{staticClass:"title text--secondary"},[e._v("Pasos")]),a("v-row",{staticClass:"pa-1"}),a("v-dialog",{attrs:{"max-width":"325",scrollable:""},model:{value:e.newStepDialog,callback:function(t){e.newStepDialog=t},expression:"newStepDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},["add"==e.newStepDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Nuevo paso")]):e._e(),"edit"==e.newStepDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Edición paso")]):e._e(),"delete"==e.newStepDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Confirmación")]):e._e(),"delete"!=e.newStepDialogAction?a("v-card-text",[a("v-form",{ref:"newStepForm"},[a("v-text-field",{attrs:{solo:"",color:"deep-orange",counter:50,rules:e.newStep.nombreRules,label:"Nombre paso",autocomplete:"off",required:""},model:{value:e.newStep.nombre,callback:function(t){e.$set(e.newStep,"nombre",t)},expression:"newStep.nombre"}}),a("v-text-field",{attrs:{solo:"",color:"deep-orange",counter:50,rules:e.newStep.descripcionRules,label:"Descripción paso",autocomplete:"off",required:""},model:{value:e.newStep.descripcion,callback:function(t){e.$set(e.newStep,"descripcion",t)},expression:"newStep.descripcion"}}),a("div",{staticClass:"subtitle-1"},[e._v("Datos del paso")]),a("v-row",{staticClass:"pa-1"}),a("v-select",{attrs:{"item-color":"deep-orange lighten-2",solo:"",color:"deep-orange",items:e.usersData,label:"Seleccione usuarios","item-text":"nombres","item-value":"idUsuario",multiple:"",chips:"","deletable-chips":"","return-object":""},model:{value:e.newStep.usuarios,callback:function(t){e.$set(e.newStep,"usuarios",t)},expression:"newStep.usuarios"}}),a("v-select",{attrs:{"item-color":"deep-orange lighten-2",solo:"",color:"deep-orange",items:JSON.parse(JSON.stringify(e.newTemplate.Campos)),label:"Seleccione campos","item-text":"nombreCampo","item-value":"idInstanciaPlantillaDato",multiple:"",chips:"","deletable-chips":"","return-object":""},model:{value:e.newStep.datos_pasos,callback:function(t){e.$set(e.newStep,"datos_pasos",t)},expression:"newStep.datos_pasos"}}),a("div",{staticClass:"body-2 text--secondary",attrs:{align:"center"}},[e._v("\n                                    Seleccione los campos que no serán editables de la lista de abajo\n                                ")]),a("v-select",{attrs:{"item-color":"deep-orange lighten-2",solo:"",color:"deep-orange",items:e.newStep.datos_pasos,label:"Seleccione campos","item-text":"nombreCampo","item-value":"idInstanciaPlantillaDato",multiple:"",chips:"","deletable-chips":"","return-object":""},model:{value:e.newStep.read_only_datos,callback:function(t){e.$set(e.newStep,"read_only_datos",t)},expression:"newStep.read_only_datos"}})],1)],1):e._e(),"delete"==e.newStepDialogAction?a("v-card-text",[e._v('\n                                Desea eliminar el paso "'+e._s(e.selectedStep.nombre)+'"?\n                            ')]):e._e(),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),"add"==e.newStepDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.addSteps()}}},[e._v("\n                                    Agregar\n                                ")]):e._e(),"edit"==e.newStepDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.updateStep()}}},[e._v("\n                                    Guardar\n                                ")]):e._e(),"delete"==e.newStepDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.deleteStep(e.selectedStep)}}},[e._v("\n                                    Eliminar\n                                ")]):e._e()],1)],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-badge",{attrs:{color:"teal"},scopedSlots:e._u([{key:"badge",fn:function(){return[e._v(e._s(e.newTemplate.Pasos.length))]},proxy:!0}],null,!1,3690009467)},[a("v-btn",{attrs:{outlined:"",rounded:""},on:{click:function(t){return e.openStepDialog("add")}}},[e._v("Agregar paso\n                                ")])],1)],1),a("v-row",{staticClass:"pa-2"}),a("div",{staticClass:"scrolling-wrapper"},[e._l(e.newTemplate.Pasos,function(t){return a("div",{key:t.idPlantillaPaso,staticClass:"card"},[a("v-card",{staticClass:"mx-auto flex-row",attrs:{width:"300",hover:""}},[a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-0",attrs:{lg:"9",cols:"9"}},[a("v-card-title",[e._v(e._s(t.nombre))])],1),a("v-col",{staticClass:"pa-0"},[a("v-row",{staticClass:"ma-0"},[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.openStepDialog("delete",t)}}},[a("v-icon",[e._v("\n                                                    clear\n                                                ")])],1)],1)],1)],1),a("v-card-text",[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Descripción")]),e._v("\n                                        "+e._s(t.descripcion)+"\n                                    ")]),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("people")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de usuarios")]),a("v-list-item-subtitle",[e._v(e._s(t.usuarios.length))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("list")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de campos de info.")]),a("v-list-item-subtitle",[e._v(e._s(t.datos_pasos.length))])],1)],1),a("v-card-actions",[a("v-layout",{staticClass:"ma-0",attrs:{row:"","justify-center":""}},[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.openStepDialog("edit",t)}}},[a("v-icon",[e._v("edit")])],1)],1)],1)],1)],1)}),a("div",{staticClass:"card"})],2)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onCancelDialog()}}},[e._v("\n                        Cancelar\n                    ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.addTemplate()}}},[e._v("\n                        Guardar\n                    ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"325"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},[a("v-card-title",{staticClass:"headline"},[e._v("Confirmación")]),"createProcess"==e.actionDialog?a("v-card-text",[e._v('\n                    Desea crear un proceso de la plantilla "'+e._s(e.selectedTemplate.nombre)+'"?\n                ')]):e._e(),"createStartProcess"==e.actionDialog?a("v-card-text",[e._v('\n                    Desea crear e inciar un proceso de la plantilla "'+e._s(e.selectedTemplate.nombre)+'"?\n                ')]):e._e(),"deleteTemplate"==e.actionDialog?a("v-card-text",[e._v('\n                    Desea eliminar la plantilla "'+e._s(e.selectedTemplate.nombre)+'"?\n                ')]):e._e(),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                    No\n                ")]),"createProcess"==e.actionDialog||"createStartProcess"==e.actionDialog?a("v-btn",{attrs:{text:""},on:{click:function(){"createProcess"==e.actionDialog?e.crear_proceso(e.selectedTemplate):e.fieldsProcessDialog=!0,e.dialog=!1}}},[e._v("\n                    Si\n                ")]):e._e(),"deleteTemplate"==e.actionDialog?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.deleteTemplate(e.selectedTemplate)}}},[e._v("\n                    Si\n                ")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"350",persistent:!0},model:{value:e.fieldsProcessDialog,callback:function(t){e.fieldsProcessDialog=t},expression:"fieldsProcessDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},[a("v-card-title",{staticClass:"headline"},[e._v("Inicio de proceso")]),a("v-card-text",[a("div",{staticClass:"title text--secondary"},[e._v("Información de proceso")]),a("v-row",{staticClass:"pa-1"}),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v("Nombre proceso")]),a("v-spacer"),a("v-list-item-subtitle",[e._v(e._s(e.selectedTemplate.nombre))])],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v("Descripción")]),a("v-spacer"),a("v-list-item-subtitle",[e._v(e._s(e.selectedTemplate.descripcion))])],1)],1),a("v-form",{ref:"processInstanceForm"},[a("v-divider"),a("div",{staticClass:"title text--secondary"},[e._v("Campos de información")]),a("v-row",{staticClass:"pa-1"}),a("v-list",e._l(e.selectedTemplate.campos,function(t){return a("v-list-item",{key:t.idPlantillaDato,staticClass:"pa-0"},[1==t.tipoDato?a("v-text-field",{attrs:{type:"text",outlined:"",color:"deep-orange",counter:50,label:t.nombreCampo,autocomplete:"off",required:""},model:{value:t.datoString,callback:function(a){e.$set(t,"datoString",a)},expression:"campo.datoString"}}):e._e(),2==t.tipoDato?a("v-text-field",{attrs:{type:"number",outlined:"",color:"deep-orange",counter:50,label:t.nombreCampo,autocomplete:"off",required:""},model:{value:t.datoInteger,callback:function(a){e.$set(t,"datoInteger",a)},expression:"campo.datoInteger"}}):e._e(),3==t.tipoDato?a("v-dialog",{ref:"inputDateDialog",refInFor:!0,attrs:{"return-value":t.datoDate,persistent:"","full-width":"",width:"290px"},on:{"update:returnValue":function(a){return e.$set(t,"datoDate",a)},"update:return-value":function(a){return e.$set(t,"datoDate",a)}},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-text-field",e._g({attrs:{solo:"",label:t.nombreCampo,readonly:""},model:{value:t.datoDate,callback:function(a){e.$set(t,"datoDate",a)},expression:"campo.datoDate"}},i))]}}],null,!0),model:{value:e.inputDateDialog,callback:function(t){e.inputDateDialog=t},expression:"inputDateDialog"}},[a("v-date-picker",{attrs:{color:"orange"},model:{value:t.datoDate,callback:function(a){e.$set(t,"datoDate",a)},expression:"campo.datoDate"}},[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.inputDateDialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:""},on:{click:function(){e.$refs.inputDateDialog[0].save(t.datoDate)}}},[e._v("OK")])],1)],1):e._e()],1)}),1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.fieldsProcessDialog=!1}}},[e._v("\n                        Cancelar\n                    ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.doCreateStartProcess(e.selectedTemplate)}}},[e._v("\n                        Crear e iniciar\n                    ")])],1)],1)],1),e._l(e.templatesData,function(t){return a("v-col",{key:t.idPlantilla,attrs:{xs:"12",sm:"6",md:"4",lg:"3",xl:"2",cols:"12"}},[a("v-card",{staticClass:"mx-auto rounded-5",attrs:{"max-width":"400",hover:""}},[a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-0",attrs:{lg:"9",cols:"9"}},[a("v-card-title",[e._v(e._s(t.nombre))])],1),a("v-col",{staticClass:"pa-0"},[a("v-row",{staticClass:"ma-0"},[a("v-spacer"),a("v-btn",{attrs:{icon:"",large:""},on:{click:function(a){e.dialog=!0,e.selectedTemplate=t,e.actionDialog="deleteTemplate"}}},[a("v-icon",[e._v("\n                                clear\n                            ")])],1)],1)],1)],1),a("v-card-text",[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Descripción")]),e._v("\n                    "+e._s(t.descripcion)+"\n                ")]),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("linear_scale")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de pasos")]),a("v-list-item-subtitle",[e._v(e._s(t.pasos.length))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("list")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de campos de info.")]),a("v-list-item-subtitle",[e._v(e._s(t.campos.length))])],1)],1),a("v-card-actions",[a("v-layout",{staticClass:"ma-0",attrs:{row:""}},[a("v-menu",{attrs:{origin:"center center",transition:"fade-transition","offset-x":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{icon:""}},s),[a("v-icon",[e._v("more_horiz")])],1)]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(a){return e.createProcessDialog(t)}}},[a("v-list-item-title",[e._v("Crear")])],1),a("v-list-item",{on:{click:function(a){return e.createStartProcessDialog(t)}}},[a("v-list-item-title",[e._v("Crear e iniciar")])],1)],1)],1),a("v-divider",{staticClass:"mx-1 transparent",attrs:{vertical:""}}),a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.goDetails(t,"edit")}}},[a("v-icon",[e._v("edit")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.goDetails(t,"see")}}},[a("v-icon",[e._v("visibility")])],1)],1)],1)],1)],1)})],2):e._e(),a("router-view",{attrs:{readOnly:e.readOnlyDetails},on:{close:e.updateModifiedTemplate}}),a("v-fab-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],attrs:{color:"deep-orange",dark:"",fixed:"",large:"",bottom:"",right:"",fab:""},on:{click:function(t){e.newTemplateDialog=!0}}},[a("v-icon",[e._v("add")])],1)],1),a("v-snackbar",{attrs:{color:e.templatesSnackbar.style,timeout:e.templatesSnackbar.timeout},model:{value:e.templatesSnackbar.active,callback:function(t){e.$set(e.templatesSnackbar,"active",t)},expression:"templatesSnackbar.active"}},[e._v("\n    "+e._s(e.templatesSnackbar.text)+"\n        "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.templatesSnackbar.active=!1}}},[e._v("\n        Cerrar\n        ")])],1)],1)},q=[],H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"",fullscreen:"","hide-overlay":"",transition:"scale-transition"},on:{"click:outside":function(t){return e.hola()}},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",[a("v-app",[a("v-app-bar",{attrs:{color:"deep-orange",flat:"",fixed:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.closeActivity()}}},[a("v-icon",[e._v("arrow_back")])],1),a("v-toolbar-title",{staticClass:"headline"},[e._v("Plantilla")]),a("div",{staticClass:"flex-grow-1"})],1),e.isLoaded?e._e():a("div",{staticClass:"body"},[e.isLoaded?e._e():a("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-progress-circular",{attrs:{size:70,width:7,color:"deep-orange",indeterminate:""}})],1)],1)],1),e.isLoaded?a("div",{staticClass:"body2"},[a("v-dialog",{attrs:{width:"300"},model:{value:e.editInfoTemplateDialog,callback:function(t){e.editInfoTemplateDialog=t},expression:"editInfoTemplateDialog"}},[a("v-card",{attrs:{loading:e.confirmSaveDialogLoader}},[a("v-card-title",{staticClass:"headline"},[e._v("\n              Edición de plantilla\n            ")]),a("v-card-text",[a("v-row",{staticClass:"pa-2"}),a("v-form",{ref:"infoTemplate"},[a("v-text-field",{attrs:{outlined:"",color:"deep-orange",counter:50,rules:e.newTemplate.nombreRules,label:"Nombre",autocomplete:"off",required:""},model:{value:e.newTemplate.nombre,callback:function(t){e.$set(e.newTemplate,"nombre",t)},expression:"newTemplate.nombre"}}),a("v-text-field",{attrs:{outlined:"",color:"deep-orange",counter:50,rules:e.newTemplate.descripcionRules,label:"Descripción",autocomplete:"off",required:""},model:{value:e.newTemplate.descripcion,callback:function(t){e.$set(e.newTemplate,"descripcion",t)},expression:"newTemplate.descripcion"}})],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.editInfoTemplateDialog=!1}}},[e._v("\n                Cancelar\n              ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.saveChangeInfo()}}},[e._v("\n                Guardar\n              ")])],1)],1)],1),a("v-row",{staticClass:"pa-5",attrs:{align:"center"}},[a("div",{staticClass:"title text--secondary"},[e._v("Información de plantilla")]),a("div",{staticClass:"pl-2"}),e.readOnly?e._e():a("v-btn",{attrs:{icon:"","x-large":""},on:{click:function(t){return e.openEditInfoDialog()}}},[a("v-icon",[e._v("edit")])],1)],1),a("v-row",{staticClass:"pl-5 pr-5 pt-5",attrs:{justify:"center"}},[a("div",{staticClass:"headline text",attrs:{align:"center"}},[e._v(e._s(e.templateData.nombre))]),a("div",{staticClass:"pl-2"})]),a("v-row",{staticClass:"pa-5",attrs:{justify:"center"}},[a("div",{staticClass:"headline  text--secondary",attrs:{align:"center"}},[e._v(e._s(e.templateData.descripcion))]),a("div",{staticClass:"pl-2"})]),a("v-divider",{staticClass:"mx-4"}),a("v-row",{staticClass:"pa-1"}),a("div",{staticClass:"title text--secondary"},[e._v("Campos")]),a("v-dialog",{attrs:{"max-width":"300",scrollable:""},model:{value:e.newFieldDialog,callback:function(t){e.newFieldDialog=t},expression:"newFieldDialog"}},[a("v-card",["add"==e.newFieldDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Nuevo campo")]):e._e(),"edit"==e.newFieldDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Edición campo")]):e._e(),"delete"==e.newFieldDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Confirmación")]):e._e(),"delete"!=e.newFieldDialogAction?a("v-card-text",[a("v-form",{ref:"newFieldForm"},[a("v-text-field",{attrs:{solo:"",color:"deep-orange",counter:50,rules:e.newField.nombreCampoRules,label:"Nombre de campo",autocomplete:"off",required:""},model:{value:e.newField.nombreCampo,callback:function(t){e.$set(e.newField,"nombreCampo",t)},expression:"newField.nombreCampo"}}),a("v-select",{attrs:{solo:"","item-color":"deep-orange lighten-2",color:"deep-orange",items:e.fieldTypeData,"item-text":"nombre","item-value":"idTipoDato",rules:e.newField.tipoDatoNavigationRules,label:"Tipo de campo",autocomplete:"off",required:"","return-object":""},model:{value:e.newField.tipoDatoNavigation,callback:function(t){e.$set(e.newField,"tipoDatoNavigation",t)},expression:"newField.tipoDatoNavigation"}})],1)],1):e._e(),"delete"==e.newFieldDialogAction?a("v-card-text",[e._v('\n                  Desea eliminar el campo "'+e._s(e.selectedField.nombreCampo)+'"?\n              ')]):e._e(),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),"add"==e.newFieldDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.addFields()}}},[e._v("\n                      Agregar\n                  ")]):e._e(),"edit"==e.newFieldDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.updateField()}}},[e._v("\n                      Guardar\n                  ")]):e._e(),"delete"==e.newFieldDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.deleteField(e.selectedField)}}},[e._v("\n                      Eliminar\n                  ")]):e._e()],1)],1)],1),a("v-row",{staticClass:"pa-2"}),e.readOnly?e._e():a("v-row",{staticClass:"pl-8",attrs:{justify:"left"}},[a("v-btn",{attrs:{outlined:"",rounded:""},on:{click:function(t){return e.openFieldDialog("add")}}},[e._v("\n            Agregar\n          ")])],1),a("div",{staticClass:"scrolling-wrapper"},[e._l(e.templateData.campos,function(t){return a("div",{key:t.idPlantillaCampo,staticClass:"card"},[a("v-card",{staticClass:"mx-auto flex-row",attrs:{width:"300",hover:""}},[a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-0",attrs:{lg:"9",cols:"9"}},[a("v-card-title",[e._v(e._s(t.nombreCampo))])],1),a("v-col",{staticClass:"pa-0"},[a("v-row",{staticClass:"ma-0"},[a("v-spacer"),e.readOnly?e._e():a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.openFieldDialog("delete",t)}}},[a("v-icon",[e._v("\n                                  clear\n                              ")])],1)],1)],1)],1),a("v-card-text",[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Tipo de campo")]),e._v("\n                    "+e._s(t.tipoDatoNavigation.nombre)+"\n                ")]),a("v-card-actions",[a("v-layout",{staticClass:"ma-0",attrs:{row:"","justify-center":""}},[e.readOnly?e._e():a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.openFieldDialog("edit",t)}}},[a("v-icon",[e._v("edit")])],1)],1)],1)],1)],1)}),a("div",{staticClass:"card"})],2),a("v-row",{staticClass:"pa-2"}),a("div",{staticClass:"title text--secondary"},[e._v("Pasos")]),a("v-dialog",{attrs:{"max-width":"325",scrollable:""},model:{value:e.newStepDialog,callback:function(t){e.newStepDialog=t},expression:"newStepDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},["add"==e.newStepDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Nuevo paso")]):e._e(),"edit"==e.newStepDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Edición paso")]):e._e(),"delete"==e.newStepDialogAction?a("v-card-title",{staticClass:"headline"},[e._v("Confirmación")]):e._e(),"delete"!=e.newStepDialogAction?a("v-card-text",[a("v-form",{ref:"newStepForm"},[a("v-text-field",{attrs:{solo:"",color:"deep-orange",counter:50,rules:e.newStep.nombreRules,label:"Nombre paso",autocomplete:"off",required:""},model:{value:e.newStep.nombre,callback:function(t){e.$set(e.newStep,"nombre",t)},expression:"newStep.nombre"}}),a("v-text-field",{attrs:{solo:"",color:"deep-orange",counter:50,rules:e.newStep.descripcionRules,label:"Descripción paso",autocomplete:"off",required:""},model:{value:e.newStep.descripcion,callback:function(t){e.$set(e.newStep,"descripcion",t)},expression:"newStep.descripcion"}}),a("div",{staticClass:"subtitle-1"},[e._v("Datos del paso")]),a("v-row",{staticClass:"pa-1"}),a("v-select",{attrs:{"item-color":"deep-orange lighten-2",solo:"",color:"deep-orange",items:e.usersData,label:"Seleccione usuarios","item-text":"nombres","item-value":"idUsuario",multiple:"",chips:"","deletable-chips":"","return-object":""},model:{value:e.newStep.usuarios,callback:function(t){e.$set(e.newStep,"usuarios",t)},expression:"newStep.usuarios"}}),a("v-select",{attrs:{"item-color":"deep-orange lighten-2",solo:"",color:"deep-orange",items:JSON.parse(JSON.stringify(e.templateData.campos)),label:"Seleccione campos","item-text":"nombreCampo","item-value":"idInstanciaPlantillaDato",multiple:"",chips:"","deletable-chips":"","return-object":""},model:{value:e.newStep.datos_pasos,callback:function(t){e.$set(e.newStep,"datos_pasos",t)},expression:"newStep.datos_pasos"}}),a("div",{staticClass:"body-2 text--secondary",attrs:{align:"center"}},[e._v("\n                      Seleccione los campos que no serán editables de la lista de abajo\n                  ")]),a("v-select",{attrs:{"item-color":"deep-orange lighten-2",solo:"",color:"deep-orange",items:e.newStep.datos_pasos,label:"Seleccione campos","item-text":"nombreCampo","item-value":"idInstanciaPlantillaDato",multiple:"",chips:"","deletable-chips":"","return-object":""},model:{value:e.newStep.read_only_datos,callback:function(t){e.$set(e.newStep,"read_only_datos",t)},expression:"newStep.read_only_datos"}})],1)],1):e._e(),"delete"==e.newStepDialogAction?a("v-card-text",[e._v('\n                  Desea eliminar el paso "'+e._s(e.selectedStep.nombre)+'"?\n              ')]):e._e(),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),"add"==e.newStepDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.addSteps()}}},[e._v("\n                      Agregar\n                  ")]):e._e(),"edit"==e.newStepDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.updateStep()}}},[e._v("\n                      Guardar\n                  ")]):e._e(),"delete"==e.newStepDialogAction?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.deleteStep(e.selectedStep)}}},[e._v("\n                      Eliminar\n                  ")]):e._e()],1)],1)],1),a("v-row",{staticClass:"pa-2"}),e.readOnly?e._e():a("v-row",{staticClass:"pl-8",attrs:{justify:"left"}},[a("v-btn",{attrs:{outlined:"",rounded:""},on:{click:function(t){return e.openStepDialog("add")}}},[e._v("\n            Agregar\n          ")])],1),a("ParticipantsDialog",{attrs:{step:e.selectedStep,from:"paso"},model:{value:e.showParticipantsDialog,callback:function(t){e.showParticipantsDialog=t},expression:"showParticipantsDialog"}}),a("FieldsDialog",{attrs:{step:e.selectedStep},model:{value:e.showFieldsDialog,callback:function(t){e.showFieldsDialog=t},expression:"showFieldsDialog"}}),a("div",{staticClass:"scrolling-wrapper"},[e._l(e.templateData.pasos,function(t){return a("div",{key:t.idPlantillaPaso,staticClass:"card"},[a("v-card",{staticClass:"mx-auto flex-row",attrs:{width:"300",hover:""}},[a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-0",attrs:{lg:"9",cols:"9"}},[a("v-card-title",[e._v(e._s(t.nombre))])],1),a("v-col",{staticClass:"pa-0"},[a("v-row",{staticClass:"ma-0"},[a("v-spacer"),e.readOnly?e._e():a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.openStepDialog("delete",t)}}},[a("v-icon",[e._v("\n                                    clear\n                                ")])],1)],1)],1)],1),a("v-card-text",[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Descripción")]),e._v("\n                        "+e._s(t.descripcion)+"\n                    ")]),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""},on:{click:function(){e.showParticipantsDialog=!0,e.selectedStep=t}}},[a("v-icon",[e._v("people")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de usuarios")]),a("v-list-item-subtitle",[e._v(e._s(t.usuarios.length))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""},on:{click:function(){e.showFieldsDialog=!0,e.selectedStep=t}}},[a("v-icon",[e._v("list")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de campos de info.")]),a("v-list-item-subtitle",[e._v(e._s(t.datos_Pasos.length))])],1)],1),a("v-card-actions",[a("v-layout",{staticClass:"ma-0",attrs:{row:"","justify-center":""}},[e.readOnly?e._e():a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.openStepDialog("edit",t)}}},[a("v-icon",[e._v("edit")])],1)],1)],1)],1)],1)}),a("div",{staticClass:"card"})],2)],1):e._e(),a("v-snackbar",{attrs:{color:e.templateSnackbar.style,timeout:e.templateSnackbar.timeout},model:{value:e.templateSnackbar.active,callback:function(t){e.$set(e.templateSnackbar,"active",t)},expression:"templateSnackbar.active"}},[e._v("\n      "+e._s(e.templateSnackbar.text)+"\n          "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.templateSnackbar.active=!1}}},[e._v("\n          Cerrar\n          ")])],1)],1)],1),a("v-dialog",{attrs:{width:"300"},model:{value:e.confirmSaveDialog,callback:function(t){e.confirmSaveDialog=t},expression:"confirmSaveDialog"}},[a("v-card",{attrs:{loading:e.confirmSaveDialogLoader}},[a("v-card-title",{staticClass:"headline"},[e._v("\n        Confirmación\n      ")]),a("v-card-text",[e._v("\n        Desea guardar los cambios en esta plantilla ?\n      ")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.confirmSaveDialog=!1}}},[e._v("\n          Cancelar\n        ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.commitChanges()}}},[e._v("\n          Guardar\n        ")])],1)],1)],1),e.readOnly?e._e():a("v-fab-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.canSave,expression:"canSave"}],attrs:{color:"white",light:"",fixed:"",large:"",bottom:"",right:"",fab:""},on:{click:function(t){e.confirmSaveDialog=!0}}},[a("v-icon",[e._v("check")])],1)],1)],1)},M=[],W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"325"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("v-card",["paso"==e.from?a("v-card-title",[e._v("Participantes del paso")]):e._e(),"tarea"==e.from?a("v-card-title",[e._v("Participantes de la tarea")]):e._e(),a("v-card-text",{staticClass:"pb-0"},[a("div",{staticClass:"subtitle-1",attrs:{align:"center"}},[e._v(e._s(e.step.nombre))]),a("v-list",e._l(e.step.usuarios,function(t){return a("v-list-item",{key:t.idUsuario,staticClass:"pa-0"},[a("div",{staticClass:"subtitle-1"},[e._v(e._s(t.nombres)+" "+e._s(t.apellidos))])])}),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){t.stopPropagation(),e.show=!1}}},[e._v("Cerrar")])],1)],1)],1)},G=[],J={props:{value:Boolean,from:String,step:[]},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}}},created(){}},Y=J,K=Object(r["a"])(Y,W,G,!1,null,"139bd0cc",null),Q=K.exports;c()(K,{VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VDialog:F["a"],VList:h["a"],VListItem:b["a"],VSpacer:w["a"]});var X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"300"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("v-card",[a("v-card-title",[e._v("Campos de la plantilla")]),a("v-card-text",{staticClass:"pb-0"},[a("div",{staticClass:"subtitle-1",attrs:{align:"center"}},[e._v(e._s(e.step.nombre))]),a("v-list",e._l(e.step.datos_Pasos,function(t){return a("v-list-item",{key:t.idPlantillaCampo,staticClass:"pa-0"},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.nombreCampo))]),a("v-list-item-subtitle",[e._v(e._s(t.tipoDatoNavigation.nombre))])],1)],1)}),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){t.stopPropagation(),e.show=!1}}},[e._v("Cerrar")])],1)],1)],1)},Z=[],ee={props:{value:Boolean,step:[]},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}}}},te=ee,ae=Object(r["a"])(te,X,Z,!1,null,"4f8606dd",null),se=ae.exports;c()(ae,{VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VDialog:F["a"],VList:h["a"],VListItem:b["a"],VListItemContent:g["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VSpacer:w["a"]});var ie={props:["readOnly"],data:()=>({fieldTypeData:[],showParticipantsDialog:!1,showFieldsDialog:!1,usersData:[],sheet:!1,templateData:Object,canSave:!1,onlyNestedDialogs:!0,opened:!1,isLoaded:!1,editInfoTemplateDialog:!1,confirmSaveDialog:!1,confirmSaveDialogLoader:!1,newFieldDialog:!1,newFieldDialogAction:"",selectedField:Object,newStepDialog:!1,newStepDialogAction:"",selectedStep:Object,newTemplate:{nombre:"",nombreRules:[e=>!!e||"Nombre es requerido",e=>e&&e.length<=50||"Nombre debe ser menor o igual a 50"],descripcion:"",descripcionRules:[e=>!!e||"Descripción es requerido",e=>e&&e.length<=50||"Descripción debe ser menor o igual a 50"]},newField:{nombreCampo:"",nombreCampoRules:[e=>!!e||"Nombre de campo es requerido",e=>e&&e.length<=50||"Nombre de campo debe ser menor o igual a 50"],tipoDatoNavigation:"",tipoDatoNavigationRules:[e=>!!e||"Tipo de campo es requerido"]},newStep:{nombre:"",nombreRules:[e=>!!e||"Nombre paso es requerido",e=>e&&e.length<=50||"Nombre paso debe ser menor o igual a 50"],descripcion:"",descripcionRules:[e=>!!e||"Descripción paso es requerido",e=>e&&e.length<=50||"Descripción paso debe ser menor o igual a 50"],datos_pasos:[],read_only_datos:[],usuarios:[]},templateSnackbar:{style:String,active:!1,timeout:6e3,text:String}}),components:{ParticipantsDialog:Q,FieldsDialog:se},methods:{closeActivity(){this.opened=!1,this.$emit("close"),this.$router.go(-1)},saveChanges(e){this.opened=!1,this.canSave=!1,this.$emit("close",e),this.$router.go(-1)},hola(){this.onlyNestedDialogs||(this.opened=!1,this.$emit("close"),this.$router.go(-1))},async loadTemplate(){await this.$axios.get(this.$webServicesBaseURL+"Home/Plantillas/Details/"+this.$route.params.idPlantilla,{withCredentials:!0}).then(e=>{200==e.status&&11==e.data.code&&(this.templateData=e.data.data)}).catch(e=>{null!=e.response&&(404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3))})},async loadUsers(){await this.$axios.get(this.$webServicesBaseURL+"Home/Usuarios",{withCredentials:!0}).then(e=>{200==e.status&&31==e.data.code&&(this.usersData=e.data.data)})},async loadDataTypes(){await this.$axios.get(this.$webServicesBaseURL+"DataTypes",{withCredentials:!0}).then(e=>{200==e.status&&51==e.data.code&&(this.fieldTypeData=e.data.data)})},openEditInfoDialog(){this.newTemplate.nombre=this.templateData.nombre,this.newTemplate.descripcion=this.templateData.descripcion,this.editInfoTemplateDialog=!0},saveChangeInfo(){this.$refs.infoTemplate.validate()&&(this.templateData.nombre=this.newTemplate.nombre,this.templateData.descripcion=this.newTemplate.descripcion,this.editInfoTemplateDialog=!1,this.canSave=!0)},addFields(){if(this.$refs.newFieldForm.validate()){var e={idorder:(new Date).getTime(),nombreCampo:this.newField.nombreCampo,tipoDato:this.newField.tipoDatoNavigation.idTipoDato,tipoDatoNavigation:this.newField.tipoDatoNavigation};this.templateData.campos.push(e),this.$refs.newFieldForm.reset(),this.newFieldDialog=!1,this.canSave=!0}},openFieldDialog(e,t){this.newFieldDialogAction=e,this.selectedField=t,"edit"==e?(this.newField.nombreCampo=t.nombreCampo,this.newField.tipoDatoNavigation=t.tipoDatoNavigation):(this.newField.nombreCampo="",this.newField.tipoDatoNavigation=""),this.newFieldDialog=!0},deleteField(e){let t=this.templateData.campos.splice(this.templateData.campos.indexOf(e),1);this.templateData.pasos.forEach(e=>{e.datos_Pasos.forEach(a=>{a.idPlantillaCampo==t[0].idPlantillaCampo&&e.datos_Pasos.splice(e.datos_Pasos.indexOf(a),1)})}),this.newFieldDialog=!1,this.canSave=!0},updateField(){this.$refs.newFieldForm.validate()&&(this.selectedField.nombreCampo=this.newField.nombreCampo,this.selectedField.tipoDato=this.newField.tipoDatoNavigation.idTipoDato,this.selectedField.tipoDatoNavigation=this.newField.tipoDatoNavigation,this.$refs.newFieldForm.reset(),this.newFieldDialog=!1,this.canSave=!0)},addSteps(){if(this.$refs.newStepForm.validate()){var e={nombre:this.newStep.nombre,descripcion:this.newStep.descripcion,datos_Pasos:this.newStep.datos_pasos,usuarios:this.newStep.usuarios};this.newStep.read_only_datos.forEach(e=>{e.soloLectura="1"}),this.templateData.pasos.push(e),this.$refs.newStepForm.reset(),this.newStepDialog=!1,this.canSave=!0}},openStepDialog(e,t){if(this.newStepDialogAction=e,this.selectedStep=t,"edit"==e){this.newStep.nombre=t.nombre,this.newStep.descripcion=t.descripcion,this.newStep.datos_pasos=t.datos_Pasos;let e=[];this.newStep.read_only_datos=[],this.newStep.datos_pasos.forEach(t=>{null!=t.idPlantillaCampo?(e.push(this.templateData.campos.find(e=>e.idPlantillaCampo==t.idPlantillaCampo)),t.soloLectura|"1"==t.soloLectura&&this.newStep.read_only_datos.push(this.templateData.campos.find(e=>e.idPlantillaCampo==t.idPlantillaCampo))):(e.push(this.templateData.campos.find(e=>e.idorder==t.idorder)),t.soloLectura|"1"==t.soloLectura&&this.newStep.read_only_datos.push(this.templateData.campos.find(e=>e.idorder==t.idorder)))}),this.newStep.datos_pasos=e,this.newStep.usuarios=t.usuarios}else this.newStep.nombre="",this.newStep.descripcion="",this.newStep.datos_pasos=[],this.newStep.usuarios=[];this.newStepDialog=!0},updateStep(){this.$refs.newStepForm.validate()&&(this.selectedStep.nombre=this.newStep.nombre,this.selectedStep.descripcion=this.newStep.descripcion,this.selectedStep.datos_Pasos=this.newStep.datos_pasos,this.selectedStep.usuarios=this.newStep.usuarios,this.selectedStep.read_only_datos=this.newStep.read_only_datos,this.selectedStep.datos_Pasos.forEach(e=>{e.soloLectura="0"}),this.selectedStep.read_only_datos.forEach(e=>{e.soloLectura="1"}),this.$refs.newStepForm.reset(),this.newStepDialog=!1,this.canSave=!0,console.log(this.templateData))},deleteStep(e){this.templateData.pasos.splice(this.templateData.pasos.indexOf(e),1),this.newStepDialog=!1,this.canSave=!0},async commitChanges(){this.confirmSaveDialogLoader="deep-orange",await this.$axios.put(this.$webServicesBaseURL+"Home/Plantillas/Edit/"+this.$route.params.idPlantilla,this.templateData,{withCredentials:!0}).then(e=>{200==e.status&&13==e.data.code&&(this.canSave=!1,this.saveChanges(e.data.data))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)}),this.confirmSaveDialogLoader=!1,this.confirmSaveDialog=!1},showSnackbar(e,t,a){switch(this.templateSnackbar.active=!1,a){case 1:this.templateSnackbar.text='Plantilla "'+e+'" agregada.';break;case 2:this.templateSnackbar.text='Plantilla "'+e+'" eliminada.';break;case 3:this.templateSnackbar.text='Plantilla "'+e+'" actualizada.';break;default:this.templateSnackbar.text=e;break}this.templateSnackbar.active=!0,this.templateSnackbar.style=t},async initializeAll(){await this.loadUsers(),await this.loadTemplate(),await this.loadDataTypes(),this.isLoaded=!0}},mounted(){this.opened=!0,this.initializeAll()}},oe=ie,ne=(a("4331"),a("ce7e")),re=Object(r["a"])(oe,H,M,!1,null,"0ea0bc1e",null),le=re.exports;c()(re,{VApp:d["a"],VAppBar:p["a"],VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:P["a"],VDialog:F["a"],VDivider:ne["a"],VFabTransition:$["c"],VForm:A["a"],VIcon:m["a"],VLayout:R["a"],VListItem:b["a"],VListItemContent:g["a"],VListItemIcon:L["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VProgressCircular:N["a"],VRow:_["a"],VSelect:U["a"],VSnackbar:O["a"],VSpacer:w["a"],VTextField:j["a"],VToolbarTitle:D["a"]});var ce={data:()=>({readOnlyDetails:!1,templatesData:[],usersData:[],fieldTypeData:[],templatesSnackbar:{style:String,active:!1,timeout:6e3,text:String},isLoaded:!1,inputDateDialog:!1,loaderCard:null,dialog:!1,actionDialog:"",fieldsProcessDialog:!1,newTemplateDialog:!1,newFieldDialog:!1,newFieldDialogAction:"",selectedField:Object,newStepDialog:!1,newStepDialogAction:"",selectedStep:Object,selectedTemplate:Object,newTemplate:{nombre:"",nombreRules:[e=>!!e||"Nombre es requerido",e=>e&&e.length<=50||"Nombre debe ser menor o igual a 50"],descripcion:"",descripcionRules:[e=>!!e||"Descripción es requerido",e=>e&&e.length<=50||"Descripción debe ser menor o igual a 50"],Campos:[],Pasos:[]},newField:{nombreCampo:"",nombreCampoRules:[e=>!!e||"Nombre de campo es requerido",e=>e&&e.length<=50||"Nombre de campo debe ser menor o igual a 50"],tipoDatoNavigation:"",tipoDatoNavigationRules:[e=>!!e||"Tipo de campo es requerido"]},newStep:{nombre:"",nombreRules:[e=>!!e||"Nombre paso es requerido",e=>e&&e.length<=50||"Nombre paso debe ser menor o igual a 50"],descripcion:"",descripcionRules:[e=>!!e||"Descripción paso es requerido",e=>e&&e.length<=50||"Descripción paso debe ser menor o igual a 50"],datos_pasos:[],read_only_datos:[],usuarios:[]}}),components:{TemplateDetailPage:le},methods:{async loadTemplates(){await this.$axios.get(this.$webServicesBaseURL+"Home/Plantillas",{withCredentials:!0}).then(e=>{200==e.status&&11==e.data.code&&(this.templatesData=e.data.data)})},async loadDataTypes(){await this.$axios.get(this.$webServicesBaseURL+"DataTypes",{withCredentials:!0}).then(e=>{200==e.status&&51==e.data.code&&(this.fieldTypeData=e.data.data)})},async crear_proceso(e){this.loaderCard="deep-orange";var t=await this.$axios.post(this.$webServicesBaseURL+"Home/InstanciasPlantillas",e,{withCredentials:!0}).then(t=>{if(200==t.status&&22==t.data.code)return this.showSnackbar(e.nombre,"success",4),t.data.data}).catch(t=>{null!=t.response&&(404==t.response.status&&null!=t.response.data?(20==t.response.data.code&&this.templatesData.splice(this.templatesData.indexOf(e),1),this.showSnackbar(t.response.data.message,"error",1e3)):this.showSnackbar(t,"error",1e3))});return this.loaderCard=!1,this.dialog=!1,t},async startProcess(e){this.$refs.processInstanceForm.validate()&&(this.loaderCard="deep-orange",await this.$axios.put(this.$webServicesBaseURL+"Home/InstanciasPlantillas/Edit/"+e.idInstanciaPlantilla,e,{withCredentials:!0}).then(t=>{200==t.status&&23==t.data.code&&this.showSnackbar(e.nombre,"success",5)}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.fieldsProcessDialog=!1)},async doCreateStartProcess(e){for(var t=await this.crear_proceso(e),a=0;a<t.datos.length;a++)t.datos[a].datoDate=e.campos[a].datoDate,t.datos[a].datoInteger=e.campos[a].datoInteger,t.datos[a].datoString=e.campos[a].datoString;await this.startProcess(t)},createProcessDialog(e){this.dialog=!0,this.selectedTemplate=e,this.actionDialog="createProcess"},createStartProcessDialog(e){this.dialog=!0,this.selectedTemplate=e,this.actionDialog="createStartProcess"},updateModifiedTemplate(e){if(null!=e){let t=this.templatesData.find(t=>t.idPlantilla==e.idPlantilla);t.nombre=e.nombre,t.descripcion=e.descripcion,t.campos=e.campos,t.pasos=e.pasos}},addFields(){if(this.$refs.newFieldForm.validate()){var e={idorder:(new Date).getTime(),nombreCampo:this.newField.nombreCampo,soloLectura:"0",tipoDato:this.newField.tipoDatoNavigation.idTipoDato,tipoDatoNavigation:this.newField.tipoDatoNavigation};this.newTemplate.Campos.push(e),this.$refs.newFieldForm.reset(),this.newFieldDialog=!1}},openFieldDialog(e,t){this.newFieldDialogAction=e,this.selectedField=t,"edit"==e?(this.newField.nombreCampo=t.nombreCampo,this.newField.tipoDatoNavigation=t.tipoDatoNavigation):(this.newField.nombreCampo="",this.newField.tipoDatoNavigation=""),this.newFieldDialog=!0},deleteField(e){let t=this.newTemplate.Campos.splice(this.newTemplate.Campos.indexOf(e),1);this.newTemplate.Pasos.forEach(e=>{e.datos_pasos.forEach(a=>{a.idorder==t[0].idorder&&e.datos_pasos.splice(e.datos_pasos.indexOf(a),1)})}),this.newFieldDialog=!1},updateField(){this.$refs.newFieldForm.validate()&&(this.selectedField.nombreCampo=this.newField.nombreCampo,this.selectedField.tipoDatoNavigation=this.newField.tipoDatoNavigation,this.$refs.newFieldForm.reset(),this.newFieldDialog=!1)},addSteps(){if(this.$refs.newStepForm.validate()){var e={nombre:this.newStep.nombre,descripcion:this.newStep.descripcion,datos_pasos:this.newStep.datos_pasos,usuarios:this.newStep.usuarios};this.newStep.read_only_datos.forEach(e=>{e.soloLectura="1"}),this.newTemplate.Pasos.push(e),this.$refs.newStepForm.reset(),this.newStepDialog=!1}},openStepDialog(e,t){this.newStepDialogAction=e,this.selectedStep=t,"edit"==e?(this.newStep.nombre=t.nombre,this.newStep.descripcion=t.descripcion,this.newStep.datos_pasos=t.datos_pasos,this.newStep.read_only_datos=[],this.newStep.datos_pasos.forEach(e=>{(e.soloLectura||"1"==e.soloLectura)&&this.newStep.read_only_datos.push(e)}),this.newStep.usuarios=t.usuarios):(this.newStep.nombre="",this.newStep.descripcion="",this.newStep.datos_pasos=[],this.newStep.usuarios=[]),this.newStepDialog=!0},updateStep(){this.$refs.newStepForm.validate()&&(this.selectedStep.nombre=this.newStep.nombre,this.selectedStep.descripcion=this.newStep.descripcion,this.selectedStep.datos_pasos=this.newStep.datos_pasos,this.selectedStep.usuarios=this.newStep.usuarios,this.selectedStep.read_only_datos=this.newStep.read_only_datos,this.selectedStep.datos_pasos.forEach(e=>{e.soloLectura="0"}),this.selectedStep.read_only_datos.forEach(e=>{e.soloLectura="1"}),this.$refs.newStepForm.reset(),this.newStepDialog=!1)},deleteStep(e){this.newTemplate.Pasos.splice(this.newTemplate.Pasos.indexOf(e),1),this.newStepDialog=!1},async addTemplate(){if(this.$refs.newTemplateForm.validate()){this.loaderCard="deep-orange";let e={nombre:this.newTemplate.nombre,descripcion:this.newTemplate.descripcion,campos:this.newTemplate.Campos,pasos:this.newTemplate.Pasos};await this.$axios.post(this.$webServicesBaseURL+"Home/Plantillas/Create",e,{withCredentials:!0}).then(t=>{200==t.status&&12==t.data.code&&(this.templatesData.push(t.data.data),this.showSnackbar(e.nombre,"success",1))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.newTemplateDialog=!1}},async deleteTemplate(e){this.loaderCard="deep-orange",await this.$axios.delete(this.$webServicesBaseURL+"Home/Plantillas/Delete/"+e.idPlantilla,{withCredentials:!0}).then(t=>{200==t.status&&19==t.data.code&&(this.templatesData.splice(this.templatesData.indexOf(e),1),this.showSnackbar(e.nombre,"success",2))}).catch(t=>{null!=t.response&&404==t.response.status&&null!=t.response.data?(10==t.response.data.code&&this.templatesData.splice(this.templatesData.indexOf(e),1),this.showSnackbar(t.response.data.message,"error",1e3)):this.showSnackbar(t,"error",1e3)}),this.loaderCard=!1,this.dialog=!1},onCancelDialog(){this.$refs.newTemplateForm.reset(),this.newTemplateDialog=!1},goDetails(e,t){"edit"==t?(this.readOnlyDetails=!1,this.$router.push({name:"Plantilla",params:{idPlantilla:e.idPlantilla}})):(this.readOnlyDetails=!0,this.$router.push({name:"Plantilla",params:{idPlantilla:e.idPlantilla}}))},showSnackbar(e,t,a){switch(this.templatesSnackbar.active=!1,a){case 1:this.templatesSnackbar.text='Plantilla "'+e+'" agregada.';break;case 2:this.templatesSnackbar.text='Plantilla "'+e+'" eliminada.';break;case 3:this.templatesSnackbar.text='Plantilla "'+e+'" actualizada.';break;case 4:this.templatesSnackbar.text='Proceso "'+e+'" creado.';break;case 5:this.templatesSnackbar.text='Proceso "'+e+'" iniciado.';break;default:this.templatesSnackbar.text=e;break}this.templatesSnackbar.active=!0,this.templatesSnackbar.style=t},async loadUsers(){await this.$axios.get(this.$webServicesBaseURL+"Home/Usuarios",{withCredentials:!0}).then(e=>{200==e.status&&31==e.data.code&&(this.usersData=e.data.data)})},async initializeAll(){await this.loadTemplates(),await this.loadUsers(),await this.loadDataTypes(),this.isLoaded=!0}},created(){this.initializeAll()}},de=ce,pe=(a("a55c"),a("4ca6")),ve=a("2e4b"),ue=Object(r["a"])(de,z,q,!1,null,"4e6149ac",null),me=ue.exports;c()(ue,{VApp:d["a"],VAppBar:p["a"],VAppBarNavIcon:v["a"],VBadge:pe["a"],VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:P["a"],VDatePicker:ve["a"],VDialog:F["a"],VDivider:ne["a"],VFabTransition:$["c"],VForm:A["a"],VIcon:m["a"],VLayout:R["a"],VList:h["a"],VListItem:b["a"],VListItemContent:g["a"],VListItemIcon:L["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VMenu:f["a"],VProgressCircular:N["a"],VRow:_["a"],VSelect:U["a"],VSnackbar:O["a"],VSpacer:w["a"],VTextField:j["a"],VToolbarTitle:D["a"]});var he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.isLoaded?e._e():a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-progress-circular",{attrs:{size:70,width:7,color:"deep-orange",indeterminate:""}})],1)],1),e.isLoaded?a("v-row",{staticClass:"ma-0"},[a("v-dialog",{attrs:{scrollable:"","max-width":"350",persistent:!0},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticClass:"hola",attrs:{loading:e.loaderCard}},[a("v-card-title",{staticClass:"headline"},[e._v("Inicio de proceso")]),a("v-card-text",[a("div",{staticClass:"title text--secondary"},[e._v("Información de proceso")]),a("v-row",{staticClass:"pa-1"}),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v("Nombre proceso")]),a("v-spacer"),a("v-list-item-subtitle",[e._v(e._s(e.selectedTemplateInstance.nombre))])],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v("Descripción")]),a("v-spacer"),a("v-list-item-subtitle",[e._v(e._s(e.selectedTemplateInstance.descripcion))])],1)],1),a("v-form",{ref:"processInstanceForm"},[a("v-divider"),a("div",{staticClass:"title text--secondary"},[e._v("Campos de información")]),a("v-row",{staticClass:"pa-1"}),a("v-list",e._l(e.selectedTemplateInstance.datos,function(t){return a("v-list-item",{key:t.idInstanciaPlantillaDato,staticClass:"pa-0"},[1==t.tipoDato?a("v-text-field",{attrs:{type:"text",outlined:"",color:"deep-orange",counter:50,label:t.nombreCampo,autocomplete:"off",required:""},model:{value:t.datoString,callback:function(a){e.$set(t,"datoString",a)},expression:"campo.datoString"}}):e._e(),2==t.tipoDato?a("v-text-field",{attrs:{type:"number",outlined:"",color:"deep-orange",counter:50,label:t.nombreCampo,autocomplete:"off",required:""},model:{value:t.datoInteger,callback:function(a){e.$set(t,"datoInteger",a)},expression:"campo.datoInteger"}}):e._e(),3==t.tipoDato?a("v-dialog",{ref:"inputDateDialog",refInFor:!0,attrs:{"return-value":t.datoDate,persistent:"","full-width":"",width:"290px"},on:{"update:returnValue":function(a){return e.$set(t,"datoDate",a)},"update:return-value":function(a){return e.$set(t,"datoDate",a)}},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-text-field",e._g({attrs:{solo:"",label:t.nombreCampo,readonly:""},model:{value:t.datoDate,callback:function(a){e.$set(t,"datoDate",a)},expression:"campo.datoDate"}},i))]}}],null,!0),model:{value:e.inputDateDialog,callback:function(t){e.inputDateDialog=t},expression:"inputDateDialog"}},[a("v-date-picker",{attrs:{scrollable:"",color:"orange"},model:{value:t.datoDate,callback:function(a){e.$set(t,"datoDate",a)},expression:"campo.datoDate"}},[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.inputDateDialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:""},on:{click:function(a){return e.closeInputDateDialog(t.datoDate)}}},[e._v("OK")])],1)],1):e._e()],1)}),1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                        Cancelar\n                    ")]),a("v-btn",{attrs:{text:"",color:"light-green accent-3"},on:{click:function(t){return e.startProcess(e.selectedTemplateInstance)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-play")]),e._v(" Iniciar\n                    ")],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"325"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},[a("v-card-title",{staticClass:"headline"},[e._v("Confirmación")]),a("v-card-text",[e._v('\n                    Desea eliminar el proceso "'+e._s(e.selectedTemplateInstance.nombre)+'"?\n                ')]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v("\n                    No\n                ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.deleteTemplateInstance(e.selectedTemplateInstance)}}},[e._v("\n                    Si\n                ")])],1)],1)],1),e._l(e.templatesInstancesData,function(t){return a("v-col",{key:t.idInstanciaplantilla,attrs:{xs:"12",sm:"6",md:"4",lg:"3",xl:"2",cols:"12"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400",hover:""}},[a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-0",attrs:{lg:"0"==t.iniciada?9:null,cols:"0"==t.iniciada?9:null}},[a("v-card-title",[e._v(e._s(t.nombre))])],1),"0"==t.iniciada?a("v-col",{staticClass:"pa-0"},[a("v-row",{staticClass:"ma-0"},[a("v-spacer"),a("v-btn",{attrs:{icon:"",large:""},on:{click:function(a){e.deleteDialog=!0,e.selectedTemplateInstance=t}}},[a("v-icon",[e._v("\n                                clear\n                            ")])],1)],1)],1):e._e()],1),a("v-card-text",[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Descripción")]),e._v("\n                    "+e._s(t.descripcion)+"\n                ")]),null!=t.fechaCreado?a("v-row",{staticClass:"ma-0 pl-4 pr-4",attrs:{justify:"center"}},[a("div",{staticClass:"body-2 text--secondary"},[e._v("\n                        "+e._s(e.getDatetimeParsed(t.fechaCreado))+" creado\n                    ")])]):e._e(),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("linear_scale")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de pasos")]),a("v-list-item-subtitle",[e._v(e._s(t.pasos.length))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("list")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de campos de info.")]),a("v-list-item-subtitle",[e._v(e._s(t.datos.length))])],1)],1),a("v-row",{staticClass:"ma-0",attrs:{justify:"center"}},[a("div",[a("div",{attrs:{"d-block":""}},[a("v-progress-circular",{attrs:{size:100,width:10,value:e.getPorcentageComplete(t),color:"white"}},[e._v("\n                            "+e._s(t.porcentageValue)+"%\n                            ")])],1),a("v-card-text",{staticClass:"pa-0 ma-0"},[e._v("\n                            "+e._s(t.pasos.filter(function(e){return 1==e.estado}).length)+"/"+e._s(t.pasos.length)+"\n                        ")])],1)]),a("v-card-actions",[a("v-layout",{staticClass:"ma-0",attrs:{row:"","align-center":""}},["0"==t.iniciada&&"0"==t.estado?a("v-btn",{attrs:{text:"",icon:"",color:"light-green accent-3"},on:{click:function(a){e.dialog=!0,e.selectedTemplateInstance=t}}},[a("v-icon",[e._v("mdi-play")])],1):e._e(),"1"==t.iniciada&&"0"==t.estado?a("v-progress-circular",{attrs:{indeterminate:"",color:"light-green accent-3",width:"3",size:"20"}}):e._e(),"1"==t.iniciada&&"1"==t.estado?a("v-progress-circular",{attrs:{value:"100",color:"light-green accent-3",width:"3",size:"20"}}):e._e(),a("v-divider",{staticClass:"mx-1 transparent",attrs:{vertical:""}}),a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.goDetails(t)}}},[a("v-icon",[e._v("visibility")])],1),null!=t.fechaIniciado?a("v-row",{staticClass:"ma-0 pl-4 pr-4"},[a("div",{staticClass:"body-2 text--secondary"},[e._v("\n                                "+e._s(e.getDatetimeParsed(t.fechaIniciado))+" iniciado\n                            ")])]):e._e()],1)],1)],1)],1)})],2):e._e(),a("router-view"),a("v-fab-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],attrs:{color:"white",dark:"",fixed:"",large:"",bottom:"",right:"",fab:""},on:{click:function(t){return e.onRefresh()}}},[e.isRefreshing?e._e():a("v-icon",{attrs:{color:"black"}},[e._v("refresh")]),e.isRefreshing?a("v-progress-circular",{attrs:{color:"black",indeterminate:""}}):e._e()],1)],1),a("v-snackbar",{attrs:{color:e.templatesInstancesSnackbar.style,timeout:e.templatesInstancesSnackbar.timeout},model:{value:e.templatesInstancesSnackbar.active,callback:function(t){e.$set(e.templatesInstancesSnackbar,"active",t)},expression:"templatesInstancesSnackbar.active"}},[e._v("\n    "+e._s(e.templatesInstancesSnackbar.text)+"\n        "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.templatesInstancesSnackbar.active=!1}}},[e._v("\n        Cerrar\n        ")])],1)],1)},be=[],ge={data:()=>({templatesInstancesData:[],selectedTemplateInstance:Object,usersData:[],isLoaded:!1,isRefreshing:!1,dialog:!1,deleteDialog:!1,inputDateDialog:!1,loaderCard:null,templatesInstancesSnackbar:{text:String,active:!1,style:String,timeout:6e3}}),methods:{async loadTemplatesIntances(){await this.$axios.get(this.$webServicesBaseURL+"Home/InstanciasPlantillas",{withCredentials:!0}).then(e=>{200==e.status&&21==e.data.code&&(this.templatesInstancesData=e.data.data)})},async onRefresh(){this.isRefreshing=!0,await this.loadTemplatesIntances(),this.isRefreshing=!1},async deleteTemplateInstance(e){this.loaderCard="deep-orange",await this.$axios.delete(this.$webServicesBaseURL+"Home/InstanciasPlantillas/Delete/"+e.idInstanciaPlantilla,{withCredentials:!0}).then(t=>{200==t.status&&29==t.data.code&&(this.templatesInstancesData.splice(this.templatesInstancesData.indexOf(e),1),this.showSnackbar(e.nombre,"success",2))}).catch(t=>{404==t.status&&null!=t.data?(20==t.data.code&&this.templatesInstancesData.splice(this.templatesInstancesData.indexOf(e),1),this.showSnackbar(t.data.message,"error",1e3)):this.showSnackbar(t,"error",1e3)}),this.loaderCard=!1,this.deleteDialog=!1},async startProcess(e){this.$refs.processInstanceForm.validate()&&(this.loaderCard="deep-orange",await this.$axios.put(this.$webServicesBaseURL+"Home/InstanciasPlantillas/Edit/"+this.selectedTemplateInstance.idInstanciaPlantilla,e,{withCredentials:!0}).then(t=>{if(200==t.status&&23==t.data.code){var a=this.templatesInstancesData.indexOf(e);this.templatesInstancesData.splice(a,1,t.data.data),e=t.data.data,this.showSnackbar(e.nombre,"success",1)}}).catch(e=>{404==e.status&&null!=e.data?(20==e.data.code&&this.templatesInstancesData.splice(this.templatesInstancesData.indexOf(templateInstance),1),this.showSnackbar(e.data.message,"error",1e3)):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.dialog=!1)},showSnackbar(e,t,a){switch(this.templatesInstancesSnackbar.active=!1,a){case 1:this.templatesInstancesSnackbar.text='Proceso "'+e+'" iniciado.';break;case 2:this.templatesInstancesSnackbar.text='Proceso "'+e+'" eliminado.';break;default:this.templatesInstancesSnackbar.text=e;break}this.templatesInstancesSnackbar.active=!0,this.templatesInstancesSnackbar.style=t},goDetails(e){this.$router.push({name:"Proceso",params:{idInstanciaPlantilla:e.idInstanciaPlantilla}})},getDatetimeParsed(e){var t=new Date(e);return t.getDate()+" "+t.toLocaleString("default",{month:"long"}).substring(0,3)+" "+t.getUTCFullYear()+" "+e.split("T")[1]},getPorcentageComplete(e){var t=e.pasos.filter(e=>{if(null!=e.estadoNavigation&&"Aprobar"==e.estadoNavigation.nombre|"Aprobado"==e.estadoNavigation.nombre)return e}).length;return e.porcentageValue=0==t?0:100/e.pasos.length*t,e.porcentageValue=e.porcentageValue.toFixed(1),e.porcentageValue},closeInputDateDialog(e){this.$refs.inputDateDialog[0].save(e)},async initializeAll(){await this.loadTemplatesIntances(),this.isLoaded=!0}},created(){this.initializeAll()}},fe=ge,_e=Object(r["a"])(fe,he,be,!1,null,"c681afac",null),we=_e.exports;c()(_e,{VApp:d["a"],VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:P["a"],VDatePicker:ve["a"],VDialog:F["a"],VDivider:ne["a"],VFabTransition:$["c"],VForm:A["a"],VIcon:m["a"],VLayout:R["a"],VList:h["a"],VListItem:b["a"],VListItemContent:g["a"],VListItemIcon:L["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VProgressCircular:N["a"],VRow:_["a"],VSnackbar:O["a"],VSpacer:w["a"],VTextField:j["a"]});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.isLoaded?e._e():a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-progress-circular",{attrs:{size:70,width:7,color:"deep-orange",indeterminate:""}})],1)],1),e.isLoaded?a("v-row",{staticClass:"ma-0"},e._l(e.templatesInstancesData,function(t){return a("v-col",{key:t.idInstanciaplantilla,attrs:{xs:"12",sm:"6",md:"4",lg:"3",xl:"2",cols:"12"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400",hover:""}},[a("v-row",{staticClass:"ma-0"},[a("v-card-title",[e._v(e._s(t.nombre))])],1),a("v-card-text",[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Descripción")]),e._v("\n                    "+e._s(t.descripcion)+"\n                ")]),null!=t.fechaCreado?a("v-row",{staticClass:"ma-0 pl-4 pr-4",attrs:{justify:"center"}},[a("div",{staticClass:"body-2 text--secondary"},[e._v("\n                        "+e._s(e.getDatetimeParsed(t.fechaCreado))+" creado\n                    ")])]):e._e(),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("linear_scale")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de pasos")]),a("v-list-item-subtitle",[e._v(e._s(t.pasos.length))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("list")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de campos de info.")]),a("v-list-item-subtitle",[e._v(e._s(t.datos.length))])],1)],1),a("v-row",{staticClass:"ma-0",attrs:{justify:"center"}},[a("div",[a("div",{attrs:{"d-block":""}},[a("v-progress-circular",{attrs:{size:100,width:10,value:e.getPorcentageComplete(t),color:"white"}},[e._v("\n                            "+e._s(t.porcentageValue)+"%\n                            ")])],1),a("v-card-text",{staticClass:"pa-0 ma-0"},[e._v("\n                            "+e._s(t.pasos.filter(function(e){return 1==e.estado}).length)+"/"+e._s(t.pasos.length)+"\n                        ")])],1)]),a("v-card-actions",[a("v-layout",{staticClass:"ma-0",attrs:{row:"","align-center":""}},["1"==t.iniciada&&"0"==t.estado?a("v-progress-circular",{attrs:{indeterminate:"",color:"light-green accent-3",width:"3",size:"20"}}):e._e(),"1"==t.iniciada&&"1"==t.estado?a("v-progress-circular",{attrs:{value:"100",color:"light-green accent-3",width:"3",size:"20"}}):e._e(),a("v-divider",{staticClass:"mx-1 transparent",attrs:{vertical:""}}),a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.goDetails(t)}}},[a("v-icon",[e._v("visibility")])],1),null!=t.fechaIniciado?a("v-row",{staticClass:"ma-0 pl-4 pr-4"},[a("div",{staticClass:"body-2 text--secondary"},[e._v("\n                                "+e._s(e.getDatetimeParsed(t.fechaIniciado))+" iniciado\n                            ")])]):e._e()],1)],1)],1)],1)}),1):e._e(),a("router-view"),a("v-fab-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],attrs:{color:"white",dark:"",fixed:"",large:"",bottom:"",right:"",fab:""},on:{click:function(t){return e.onRefresh()}}},[e.isRefreshing?e._e():a("v-icon",{attrs:{color:"black"}},[e._v("refresh")]),e.isRefreshing?a("v-progress-circular",{attrs:{color:"black",indeterminate:""}}):e._e()],1)],1),a("v-snackbar",{attrs:{color:e.templatesInstancesSnackbar.style,timeout:e.templatesInstancesSnackbar.timeout},model:{value:e.templatesInstancesSnackbar.active,callback:function(t){e.$set(e.templatesInstancesSnackbar,"active",t)},expression:"templatesInstancesSnackbar.active"}},[e._v("\n    "+e._s(e.templatesInstancesSnackbar.text)+"\n        "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.templatesInstancesSnackbar.active=!1}}},[e._v("\n        Cerrar\n        ")])],1)],1)},ke=[],Ce={data:()=>({templatesInstancesData:[],isLoaded:!1,isRefreshing:!1,templatesInstancesSnackbar:{text:String,active:!1,style:String,timeout:6e3}}),methods:{async loadTemplatesIntances(){await this.$axios.get(this.$webServicesBaseURL+"Home/InstanciasPlantillas/List",{withCredentials:!0}).then(e=>{200==e.status&&21==e.data.code&&(this.templatesInstancesData=e.data.data)})},async onRefresh(){this.isRefreshing=!0,await this.loadTemplatesIntances(),this.isRefreshing=!1},showSnackbar(e,t,a){switch(this.templatesInstancesSnackbar.active=!1,a){case 1:this.templatesInstancesSnackbar.text='Proceso "'+e+'" iniciado.';break;case 2:this.templatesInstancesSnackbar.text='Proceso "'+e+'" eliminado.';break;default:this.templatesInstancesSnackbar.text=e;break}this.templatesInstancesSnackbar.active=!0,this.templatesInstancesSnackbar.style=t},goDetails(e){console.log(e),this.$router.push({name:"Proceso",params:{idInstanciaPlantilla:e.idInstanciaPlantilla}})},getDatetimeParsed(e){var t=new Date(e);return t.getDate()+" "+t.toLocaleString("default",{month:"long"}).substring(0,3)+" "+t.getUTCFullYear()+" "+e.split("T")[1]},getPorcentageComplete(e){var t=e.pasos.filter(e=>{if(null!=e.estadoNavigation&&"Aprobar"==e.estadoNavigation.nombre|"Aprobado"==e.estadoNavigation.nombre)return e}).length;return e.porcentageValue=0==t?0:100/e.pasos.length*t,e.porcentageValue=e.porcentageValue.toFixed(1),e.porcentageValue},async initializeAll(){await this.loadTemplatesIntances(),this.isLoaded=!0}},created(){this.initializeAll()},mounted(){}},Se=Ce,xe=Object(r["a"])(Se,De,ke,!1,null,"86afa94a",null),ye=xe.exports;c()(xe,{VApp:d["a"],VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:P["a"],VDivider:ne["a"],VFabTransition:$["c"],VIcon:m["a"],VLayout:R["a"],VListItem:b["a"],VListItemContent:g["a"],VListItemIcon:L["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VProgressCircular:N["a"],VRow:_["a"],VSnackbar:O["a"]});var Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",flat:"",color:"deep-orange"},scopedSlots:e._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":"","background-color":"transparent",color:"white",flat:"",centered:""},model:{value:e.tab1,callback:function(t){e.tab1=t},expression:"tab1"}},[a("v-tabs-slider"),e._l(e.sections.filter(function(t){return e.$session_token.user_level<=t.levelComponent}),function(t,s){return a("v-tab",{key:s,attrs:{href:t.href}},[e._v("\n          "+e._s(t.title)+"\n        ")])})],2)]},proxy:!0}])},[a("v-app-bar-nav-icon",{on:{click:function(t){return e.$emit("openClose")}}}),a("v-toolbar-title",{staticClass:"headline"},[a("span",[e._v(e._s(this.$route.matched[0].name))])]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("search")])],1),a("v-menu",{attrs:{origin:"center center",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{icon:""}},s),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",e._l(e.$app_bar_actions,function(t){return a("v-list-item",{key:t.index,on:{click:function(){}}},[a("v-list-item-title",[e._v(e._s(t.title))])],1)}),1)],1)],1),a("v-tabs-items",{model:{value:e.tab1,callback:function(t){e.tab1=t},expression:"tab1"}},[a("v-tab-item",{attrs:{value:"myProcess"}},[a("MyProcessPage")],1),a("v-tab-item",{attrs:{value:"process"}},[a("AllProcessPage")],1),a("v-tab-item",{attrs:{value:"myTasks"}},[a("TasksPage")],1)],1)],1)},Te=[],Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.isLoaded?e._e():a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-progress-circular",{attrs:{size:70,width:7,color:"deep-orange",indeterminate:""}})],1)],1),e.isLoaded?a("v-row",{staticClass:"ma-0"},[a("v-dialog",{attrs:{"max-width":"325"},model:{value:e.showTakeitDialog,callback:function(t){e.showTakeitDialog=t},expression:"showTakeitDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},[a("v-card-title",[e._v("Confirmación")]),a("v-card-text",[e._v('\n                    Desea iniciar la tarea "'+e._s(e.selectedTask.nombre)+'" y ser el actual responsable de la tarea ?\n                    '),a("br"),a("br"),a("div",{staticClass:"subtitle-1 text--primary"},[e._v("\n                        Nota\n                    ")]),e._v("\n                    Despues de aceptar puede redireccionar la tarea a cualquiera de \n                    los otros participantes de la tarea.\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.showTakeitDialog=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.startTask(e.selectedTask)}}},[e._v("Iniciar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"325"},model:{value:e.showApproveDialog,callback:function(t){e.showApproveDialog=t},expression:"showApproveDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},[a("v-card-title",[e._v("Confirmación")]),a("v-card-text",[e._v('\n                    Desea aprobar la tarea "'+e._s(e.selectedTask.nombre)+'" ?\n                ')]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.showApproveDialog=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{text:"",color:"green"},on:{click:function(t){return e.approveTask(e.selectedTask)}}},[e._v("Aprobar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"325"},model:{value:e.showRejectDialog,callback:function(t){e.showRejectDialog=t},expression:"showRejectDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},[a("v-card-title",[e._v("Confirmación")]),a("v-card-text",[e._v('\n                    Desea rechazar la tarea "'+e._s(e.selectedTask.nombre)+'" ?\n                ')]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.showApproveDialog=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){return e.rejectTask(e.selectedTask)}}},[e._v("Rechazar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"325"},model:{value:e.showReturnDialog,callback:function(t){e.showReturnDialog=t},expression:"showReturnDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},[a("v-card-title",[e._v("Confirmación")]),a("v-card-text",[e._v('\n                    Desea regresar la tarea "'+e._s(e.selectedTask.nombre)+'" ?\n                ')]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.showApproveDialog=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{text:"",color:"amber"},on:{click:function(t){return e.returnTask(e.selectedTask)}}},[e._v("Regresar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"325"},model:{value:e.showRedirectDialog,callback:function(t){e.showRedirectDialog=t},expression:"showRedirectDialog"}},[a("v-card",{attrs:{loading:e.loaderCard}},[a("v-card-title",[e._v("Confirmación")]),a("v-card-text",[e._v('\n                    Desea redireccionar la tarea "'+e._s(e.selectedTask.nombre)+'" a otro participante ?\n                    '),a("v-row",{staticClass:"pt-3"}),a("v-form",{ref:"newUserRedirect"},[a("v-select",{attrs:{color:"white","item-color":"orange",items:null!=e.selectedTask.usuarios?e.selectedTask.usuarios.filter(function(t){return t.idUsuario!=e.$session_token.user_id}):[],label:"Seleccione participante","item-text":"nombres","item-value":"idUsuario",rules:[function(e){return!!e||"Participante es requerido"}],solo:"","return-object":""},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[e._v("\n                                "+e._s(a.nombres)+" "+e._s(a.apellidos)+"\n                            ")]}}],null,!1,578028440),model:{value:e.newUserRedirect,callback:function(t){e.newUserRedirect=t},expression:"newUserRedirect"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.showApproveDialog=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{text:"",color:"blue darken-1"},on:{click:function(t){return e.redirectTask(e.selectedTask)}}},[e._v("Redireccionar")])],1)],1)],1),a("ParticipantsDialog",{attrs:{step:e.selectedTask,from:"tarea"},model:{value:e.showParticipantsDialog,callback:function(t){e.showParticipantsDialog=t},expression:"showParticipantsDialog"}}),a("TaskDatosDialog",{attrs:{task:e.selectedTask},model:{value:e.showTaskDatosDialog,callback:function(t){e.showTaskDatosDialog=t},expression:"showTaskDatosDialog"}}),e._l(e.tasksData,function(t){return a("v-col",{key:t.idPlantillaPasoDetall,attrs:{xs:"12",sm:"6",md:"4",lg:"3",xl:"2",cols:"12"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400",hover:""}},[a("v-overlay",{attrs:{"z-index":"4",absolute:"",value:e.overlayStartCondition(t)}},[a("v-btn",{attrs:{outlined:"",color:"white"},on:{click:function(a){e.showTakeitDialog=!0,e.selectedTask=t}}},[e._v("\n                    Iniciar\n                ")])],1),a("v-overlay",{attrs:{"z-index":"4",absolute:"",value:e.overlayApproveCondition(t)}},[a("v-btn",{attrs:{color:"green"}},[e._v("\n                    Aprobado\n                ")])],1),a("v-overlay",{attrs:{"z-index":"4",absolute:"",value:e.overlayRejectCondition(t)}},[a("v-btn",{attrs:{color:"red"}},[e._v("\n                    rechazado\n                ")])],1),a("v-row",{staticClass:"ma-0"},[a("v-card-title",[e._v(e._s(t.nombre))])],1),a("v-card-text",[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Descripción")]),e._v("\n                    "+e._s(t.descripcion)+"\n                ")]),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""},on:{click:function(){e.showParticipantsDialog=!0,e.selectedTask=t}}},[a("v-icon",[e._v("linear_scale")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Participantes")]),a("v-list-item-subtitle",[e._v(e._s(t.usuarios.length))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""},on:{click:function(){e.showTaskDatosDialog=!0,e.selectedTask=t}}},[a("v-icon",[e._v("list")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cant. de datos")]),a("v-list-item-subtitle",[e._v(e._s(t.datos_Pasos.length))])],1)],1),a("v-row",{staticClass:"ma-0 pl-4 pr-4",attrs:{justify:"center"}},[a("div",{staticClass:"body-2 text--secondary"},[e._v(e._s(e.getDatetimeParsed(t.fechaCreado))+" creado")])]),t.usuarioAccion==e.$session_token.user_id?a("v-card-actions",[a("v-layout",{staticClass:"ma-0",attrs:{row:""}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-btn",e._g({attrs:{icon:""},on:{click:function(){e.showApproveDialog=!0,e.selectedTask=t}}},i),[a("v-icon",[e._v("check")])],1)]}}],null,!0)},[a("span",[e._v("Aprobar")])]),a("div",{staticClass:"pl-2"}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-btn",e._g({attrs:{icon:""},on:{click:function(){e.showRejectDialog=!0,e.selectedTask=t}}},i),[a("v-icon",[e._v("warning")])],1)]}}],null,!0)},[a("span",[e._v("Rechazar")])]),a("div",{staticClass:"pl-2"}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-btn",e._g({attrs:{icon:""},on:{click:function(){e.showReturnDialog=!0,e.selectedTask=t}}},i),[a("v-icon",[e._v("\n                                        keyboard_return\n                                    ")])],1)]}}],null,!0)},[a("span",[e._v("Regresar")])]),a("div",{staticClass:"pl-2"}),t.usuarios.length>1?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-btn",e._g({attrs:{icon:""},on:{click:function(){e.showRedirectDialog=!0,e.selectedTask=t}}},i),[a("v-icon",[e._v("\n                                        swap_horiz\n                                    ")])],1)]}}],null,!0)},[a("span",[e._v("Redireccionar")])]):e._e()],1)],1):e._e()],1)],1)})],2):e._e(),a("v-fab-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],attrs:{color:"white",dark:"",fixed:"",large:"",bottom:"",right:"",fab:""},on:{click:function(t){return e.onRefresh()}}},[e.isRefreshing?e._e():a("v-icon",{attrs:{color:"black"}},[e._v("refresh")]),e.isRefreshing?a("v-progress-circular",{attrs:{color:"black",indeterminate:""}}):e._e()],1)],1),a("v-snackbar",{attrs:{color:e.taskSnackbar.style,timeout:e.taskSnackbar.timeout},model:{value:e.taskSnackbar.active,callback:function(t){e.$set(e.taskSnackbar,"active",t)},expression:"taskSnackbar.active"}},[e._v("\n    "+e._s(e.taskSnackbar.text)+"\n        "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.taskSnackbar.active=!1}}},[e._v("\n        Cerrar\n        ")])],1)],1)},Pe=[],Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"300"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("v-card",[a("v-card-title",[e._v("Datos de la tarea")]),a("v-card-text",{staticClass:"pb-0"},[a("div",{staticClass:"subtitle-1",attrs:{align:"center"}},[e._v(e._s(e.task.nombre))]),a("v-list",e._l(e.task.datos_Pasos,function(t){return a("v-list-item",{key:t.idInstanciaPlantillaDato,staticClass:"pa-0"},[1==t.tipoDato?a("v-text-field",{attrs:{readonly:"1"==t.soloLectura,type:"text",outlined:"",color:"deep-orange",counter:50,label:t.nombreCampo,autocomplete:"off",required:""},model:{value:t.datoString,callback:function(a){e.$set(t,"datoString",a)},expression:"dato.datoString"}}):e._e(),2==t.tipoDato?a("v-text-field",{attrs:{readonly:"1"==t.soloLectura,type:"number",outlined:"",color:"deep-orange",counter:50,label:t.nombreCampo,autocomplete:"off",required:""},model:{value:t.datoInteger,callback:function(a){e.$set(t,"datoInteger",a)},expression:"dato.datoInteger"}}):e._e(),3==t.tipoDato?a("v-dialog",{ref:"inputDateDialog",refInFor:!0,attrs:{disabled:"1"==t.soloLectura,"return-value":t.datoDate,persistent:"","full-width":"",width:"290px"},on:{"update:returnValue":function(a){return e.$set(t,"datoDate",a)},"update:return-value":function(a){return e.$set(t,"datoDate",a)}},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[3==t.tipoDato?a("v-text-field",e._g({attrs:{solo:"",color:"dark",label:t.nombreCampo,readonly:""},model:{value:null!=t.datoDate?t.datoDate=t.datoDate.split("T")[0]:t.datoDate,callback:function(a){e.$set(null!=t.datoDate?t.datoDate=t.datoDate.split("T")[0]:t,"datoDate",a)},expression:"dato.datoDate!=null?dato.datoDate=dato.datoDate.split('T')[0]:dato.datoDate"}},i)):e._e()]}}],null,!0),model:{value:e.inputDateDialog,callback:function(t){e.inputDateDialog=t},expression:"inputDateDialog"}},[a("v-date-picker",{attrs:{color:"orange"},model:{value:t.datoDate,callback:function(a){e.$set(t,"datoDate",a)},expression:"dato.datoDate"}},[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.inputDateDialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:""},on:{click:function(){e.$refs.inputDateDialog[0].save(t.datoDate)}}},[e._v("OK")])],1)],1):e._e()],1)}),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){t.stopPropagation(),e.show=!1}}},[e._v("Cerrar")])],1)],1)],1)},$e=[],Ae={props:{value:Boolean,task:[]},data:()=>({inputDateDialog:!1}),computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{save(){this.show=!1}},created(){console.log(this.arrayDatos)}},Re=Ae,Le=Object(r["a"])(Re,Fe,$e,!1,null,"80086b8a",null),Ne=Le.exports;c()(Le,{VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VDatePicker:ve["a"],VDialog:F["a"],VList:h["a"],VListItem:b["a"],VSpacer:w["a"],VTextField:j["a"]});var Ue={data:()=>({showParticipantsDialog:!1,showTaskDatosDialog:!1,selectedTask:Object,showTakeitDialog:!1,showApproveDialog:!1,showRejectDialog:!1,showReturnDialog:!1,showRedirectDialog:!1,newUserRedirect:null,confirmOverlay:!0,tasksData:[],isLoaded:!1,isRefreshing:!1,loaderCard:null,taskSnackbar:{text:String,active:!1,style:String,timeout:6e3}}),components:{ParticipantsDialog:Q,TaskDatosDialog:Ne},methods:{async loadTasks(){await this.$axios.get(this.$webServicesBaseURL+"Home/Tareas",{withCredentials:!0}).then(e=>{200==e.status&&41==e.data.code&&(this.tasksData=e.data.data)})},async onRefresh(){this.isRefreshing=!0,await this.loadTasks(),this.isRefreshing=!1},async startTask(e){this.loaderCard="deep-orange",await this.$axios.put(this.$webServicesBaseURL+"Home/Tareas/Edit/Start/"+e.idPlantillaPasoDetalle,e,{withCredentials:!0}).then(t=>{200==t.status&&43==t.data.code&&(e.usuarioAccion=t.data.data.usuarioAccion,e.usuarioAccionNavigation=t.data.data.usuarioAccionNavigation,this.showSnackbar(e.nombre,"success",1))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.showTakeitDialog=!1},async approveTask(e){this.loaderCard="deep-orange",await this.$axios.put(this.$webServicesBaseURL+"Home/Tareas/Edit/Approve/"+e.idPlantillaPasoDetalle,e,{withCredentials:!0}).then(t=>{200==t.status&&43==t.data.code&&(console.log(t.data),e.estado=t.data.data.estado,e.estadoNavigation=t.data.data.estadoNavigation,this.showSnackbar(e.nombre,"success",2))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.showApproveDialog=!1},async rejectTask(e){this.loaderCard="deep-orange",await this.$axios.put(this.$webServicesBaseURL+"Home/Tareas/Edit/Reject/"+e.idPlantillaPasoDetalle,e,{withCredentials:!0}).then(t=>{200==t.status&&43==t.data.code&&(console.log(t.data),e.estado=t.data.data.estado,e.estadoNavigation=t.data.data.estadoNavigation,this.showSnackbar(e.nombre,"success",3))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.showRejectDialog=!1},async returnTask(e){this.loaderCard="deep-orange",await this.$axios.put(this.$webServicesBaseURL+"Home/Tareas/Edit/Return/"+e.idPlantillaPasoDetalle,e,{withCredentials:!0}).then(t=>{200==t.status&&43==t.data.code&&(console.log(t.data),e.estado=t.data.data.estado,e.estadoNavigation=t.data.data.estadoNavigation,e.usuarioAccion=null,e.usuarioAccionNavigation=null,this.showSnackbar(e.nombre,"success",4))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.showReturnDialog=!1},async redirectTask(e){this.$refs.newUserRedirect.validate()&&(this.loaderCard="deep-orange",await this.$axios.put(this.$webServicesBaseURL+"Home/Tareas/Edit/Redirect/"+e.idPlantillaPasoDetalle,{idPlantillaPasoDetalle:e.idPlantillaPasoDetalle,idPasoinstancia:e.idPasoinstancia,instanciaPlantilla:e.instanciaPlantilla,nombre:e.nombre,descripcion:e.descripcion,fechaInicio:e.fechaInicio,fechaFin:e.fechaFin,estado:e.estado,estadoNavigation:e.estadoNavigation,usuarioAccion:this.newUserRedirect.idUsuario,usuarioAccionNavigation:this.newUserRedirect,usuarios:e.usuarios,datos_Pasos:e.datos_Pasos},{withCredentials:!0}).then(t=>{200==t.status&&43==t.data.code&&(console.log(t.data),e.estado=t.data.data.estado,e.estadoNavigation=t.data.data.estadoNavigation,e.usuarioAccion=t.data.data.usuarioAccion,e.usuarioAccionNavigation=t.data.data.usuarioAccionNavigation,this.$refs.newUserRedirect.reset(),this.showSnackbar(e.nombre,"success",5))}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)}),this.loaderCard=!1,this.showRedirectDialog=!1)},overlayStartCondition(e){return null==e.usuarioAccion},overlayApproveCondition(e){return null!=e.estadoNavigation&&"Aprobar"==e.estadoNavigation.nombre|"Aprobado"==e.estadoNavigation.nombre},overlayRejectCondition(e){return null!=e.estadoNavigation&&"Rechazar"==e.estadoNavigation.nombre|"Rechazado"==e.estadoNavigation.nombre},getDatetimeParsed(e){var t=new Date(e);return t.getDate()+" "+t.toLocaleString("default",{month:"long"}).substring(0,3)+" "+t.getUTCFullYear()+" "+e.split("T")[1]},showSnackbar(e,t,a){switch(this.taskSnackbar.active=!1,a){case 1:this.taskSnackbar.text='Tarea "'+e+'" iniciado.';break;case 2:this.taskSnackbar.text='Tarea "'+e+'" aprobada.';break;case 3:this.taskSnackbar.text='Tarea "'+e+'" rechazada.';break;case 4:this.taskSnackbar.text='Tarea "'+e+'" regresada.';break;case 5:this.taskSnackbar.text='Tarea "'+e+'" redireccionada.';break;default:this.taskSnackbar.text=e;break}this.taskSnackbar.active=!0,this.taskSnackbar.style=t},async initializeAll(){await this.loadTasks(),this.isLoaded=!0}},created(){this.initializeAll()},mounted(){}},Oe=Ue,je=a("a797"),Ee=a("3a2f"),Be=Object(r["a"])(Oe,Ie,Pe,!1,null,"352640fa",null),ze=Be.exports;c()(Be,{VApp:d["a"],VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:P["a"],VDialog:F["a"],VFabTransition:$["c"],VForm:A["a"],VIcon:m["a"],VLayout:R["a"],VListItem:b["a"],VListItemContent:g["a"],VListItemIcon:L["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VOverlay:je["a"],VProgressCircular:N["a"],VRow:_["a"],VSelect:U["a"],VSnackbar:O["a"],VSpacer:w["a"],VTooltip:Ee["a"]});var qe={data:()=>({tab1:"myProcess",sections:[{id:1,title:"Mis procesos",href:"#myProcess",value:"myProcess",levelComponent:1},{id:2,title:"Procesos",href:"#process",value:"process",levelComponent:1},{id:3,title:"Mis tareas",href:"#myTasks",value:"myTasks",levelComponent:2}]}),components:{MyProcessPage:we,AllProcessPage:ye,TasksPage:ze},mounted(){this.tab1=this.sections.filter(e=>this.$session_token.user_level<=e.levelComponent)[0].value}},He=qe,Me=a("71a3"),We=a("c671"),Ge=a("fe57"),Je=a("aac8"),Ye=a("9a96"),Ke=Object(r["a"])(He,Ve,Te,!1,null,"1a68d1fc",null),Qe=Ke.exports;c()(Ke,{VApp:d["a"],VAppBar:p["a"],VAppBarNavIcon:v["a"],VBtn:u["a"],VIcon:m["a"],VList:h["a"],VListItem:b["a"],VListItemTitle:g["c"],VMenu:f["a"],VSpacer:w["a"],VTab:Me["a"],VTabItem:We["a"],VTabs:Ge["a"],VTabsItems:Je["a"],VTabsSlider:Ye["a"],VToolbarTitle:D["a"]});var Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"",fullscreen:"","hide-overlay":"",transition:"scale-transition"},on:{"click:outside":function(t){return e.hola()}},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",[a("v-app",[a("v-app-bar",{attrs:{color:"deep-orange",flat:"",fixed:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.closeActivity()}}},[a("v-icon",[e._v("arrow_back")])],1),a("v-toolbar-title",{staticClass:"headline"},[e._v("Proceso")]),a("div",{staticClass:"flex-grow-1"})],1),e.isLoaded?e._e():a("div",{staticClass:"body"},[e.isLoaded?e._e():a("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-progress-circular",{attrs:{size:70,width:7,color:"deep-orange",indeterminate:""}})],1)],1)],1),e.isLoaded?a("div",{staticClass:"body2"},[a("v-row",{staticClass:"pa-1"}),a("v-row",{staticClass:"headline text--secondary",attrs:{justify:"center"}},[e._v("Estados del paso/proceso")]),a("v-row",{attrs:{justify:"center"}},e._l(e.statusIcons,function(t,s){return a("div",{key:s,staticClass:"statusIcon_item"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("\n                        "+e._s(t.icon)+"\n                    ")])],1),e._v("\n                "+e._s(t.text)+"\n                "),a("div",{staticClass:"pl-4"})],1)}),0),a("v-row",{staticClass:"pa-3"}),a("v-divider",{staticClass:"mx-4"}),a("v-row",{staticClass:"pa-3"}),a("v-row",{staticClass:"headline text--secondary",attrs:{justify:"center"}},[e._v("Detalles y estado del proceso")]),a("v-row",{staticClass:"pa-1"}),a("v-row",{staticClass:"pl-2 pr-2 pt-2",attrs:{justify:e.localWidth>=960?"center":"left"}},[a("DatosDialog",{attrs:{arrayDatos:e.processData.datos},model:{value:e.showDatosDialog,callback:function(t){e.showDatosDialog=t},expression:"showDatosDialog"}}),a("v-card",{attrs:{"max-width":"300"}},[a("v-card-title",[e._v(e._s(e.processData.nombre))]),a("v-card-text",{staticClass:"pb-0 pt-4"},[a("div",{staticClass:"subtitle-1 text--primary"},[e._v("Descripción")]),e._v("\n                    "+e._s(e.processData.descripcion)+"\n                ")]),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.showDatosDialog=!0}}},[a("v-icon",[e._v("\n                                list\n                            ")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cantidad de datos")]),a("v-list-item-subtitle",[e._v(e._s(e.processData.datos.length))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("\n                                linear_scale\n                            ")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Pasos aprobados")]),a("v-list-item-subtitle",[e._v(e._s(e.processData.pasos.filter(function(t){return e.showApprovedStepCondition(t)}).length)+"/"+e._s(e.processData.pasos.length))])],1)],1),a("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"end"}},["0"==e.processData.iniciada&&"0"==e.processData.estado?a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("\n                            info\n                        ")])],1):e._e(),"1"==e.processData.iniciada&&"0"==e.processData.estado?a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("\n                            brightness_1\n                        ")])],1):e._e(),"1"==e.processData.iniciada&&"1"==e.processData.estado?a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("\n                            check\n                        ")])],1):e._e()],1)],1)],1),a("ParticipantsDialog",{attrs:{step:e.selectedStep,from:"paso"},model:{value:e.showParticipantsDialog,callback:function(t){e.showParticipantsDialog=t},expression:"showParticipantsDialog"}}),a("v-timeline",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},e._l(e.processData.pasos,function(t,s){return a("v-timeline-item",{key:t.idPlantillaPasoDetalle,attrs:{color:t.color="light-blue darken-2","fill-dot":"",right:s%2==0,left:s%2==1},scopedSlots:e._u([{key:"icon",fn:function(){return[null==t.estadoNavigation&&null==t.usuarioAccion?a("v-icon",[e._v("info")]):e._e(),null==t.estadoNavigation&&null!=t.usuarioAccion?a("v-icon",[e._v("brightness_1")]):e._e(),e.showApprovedStepCondition(t)&&null!=t.usuarioAccion?a("v-icon",[e._v("check")]):e._e(),e.showRejectedStepCondition(t)&&null!=t.usuarioAccion?a("v-icon",[e._v("warning")]):e._e(),e.showReturnedStepCondition(t)&&null==t.usuarioAccion?a("v-icon",[e._v("keyboard_return")]):e._e(),e.showRedirectedStepCondition(t)&&null!=t.usuarioAccion?a("v-icon",[e._v("swap_horiz")]):e._e()]},proxy:!0}],null,!0)},[a("v-card",[a("v-card-title",{class:t.color},[a("h3",{staticClass:"headline light--text"},[e._v(e._s(t.nombre))])]),a("v-row",{staticClass:"pa-1"}),null!=t.fechaInicio?a("v-row",{staticClass:"pl-3 pr-3 ma-0"},[a("div",{staticClass:"body-2 text--secondary"},[e._v(e._s(e.getDatetimeParsed(t.fechaInicio))+" inicio")])]):e._e(),a("v-row",[a("v-col",{staticClass:"pa-0"},[a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("\n                                        receipt\n                                    ")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Descripción")]),a("v-list-item-subtitle",[e._v(e._s(t.descripcion))])],1)],1)],1),a("v-col",{staticClass:"pa-0"},[a("v-list-item",[a("v-list-item-icon",[a("v-btn",{attrs:{icon:""},on:{click:function(a){e.showParticipantsDialog=!0,e.selectedStep=t}}},[a("v-icon",[e._v("\n                                        people\n                                    ")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Participantes")]),a("v-list-item-subtitle",[e._v(e._s(t.usuarios.length))])],1)],1)],1)],1),null!=t.fechaFin?a("v-row",{staticClass:"pl-3 pr-3 ma-0"},[a("v-spacer"),a("div",{staticClass:"body-2 text--secondary"},[e._v(e._s(e.getDatetimeParsed(t.fechaFin))+" fin")])],1):e._e()],1)],1)}),1)],1):e._e(),a("v-snackbar",{attrs:{color:e.processSnackbar.style,timeout:e.processSnackbar.timeout},model:{value:e.processSnackbar.active,callback:function(t){e.$set(e.processSnackbar,"active",t)},expression:"processSnackbar.active"}},[e._v("\n      "+e._s(e.processSnackbar.text)+"\n          "),a("v-btn",{attrs:{text:""},on:{click:function(t){e.processSnackbar.active=!1}}},[e._v("\n          Cerrar\n          ")])],1)],1)],1)],1)},Ze=[],et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"300"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("v-card",[a("v-card-title",[e._v("Datos del proceso")]),a("v-card-text",{staticClass:"pb-0"},[a("v-list",e._l(e.arrayDatos,function(t){return a("v-list-item",{key:t.idInstanciaPlantillaDato,staticClass:"pa-0"},[1==t.tipoDato?a("v-text-field",{attrs:{readonly:"",type:"text",outlined:"",color:"deep-orange",counter:50,label:t.nombreCampo,autocomplete:"off",required:""},model:{value:t.datoString,callback:function(a){e.$set(t,"datoString",a)},expression:"dato.datoString"}}):e._e(),2==t.tipoDato?a("v-text-field",{attrs:{readonly:"",type:"number",outlined:"",color:"deep-orange",counter:50,label:t.nombreCampo,autocomplete:"off",required:""},model:{value:t.datoInteger,callback:function(a){e.$set(t,"datoInteger",a)},expression:"dato.datoInteger"}}):e._e(),3==t.tipoDato?a("v-text-field",{attrs:{readonly:"",outlined:"",color:"deep-orange",counter:50,label:t.nombreCampo,autocomplete:"off",required:""},model:{value:null!=t.datoDate?t.datoDate.split("T")[0]:t.datoDate,callback:function(a){e.$set(null!=t.datoDate?t.datoDate.split("T")[0]:t,"datoDate",a)},expression:"dato.datoDate!=null?dato.datoDate.split('T')[0]:dato.datoDate"}}):e._e()],1)}),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){t.stopPropagation(),e.show=!1}}},[e._v("Cerrar")])],1)],1)],1)},tt=[],at={props:{value:Boolean,arrayDatos:[]},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}}}},st=at,it=Object(r["a"])(st,et,tt,!1,null,"557734e8",null),ot=it.exports;c()(it,{VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VDialog:F["a"],VList:h["a"],VListItem:b["a"],VSpacer:w["a"],VTextField:j["a"]});var nt={data:()=>({colorsArray:["pink lighten-1","blue lighten-1","purple lighten-2","amber","cyan lighten-1","red lighten-1","green lighten-1","deep-orange lighten-1","teal lighten-1"],statusIcons:[{icon:"info",text:"Pendiente de iniciar"},{icon:"brightness_1",text:"En curso"},{icon:"check",text:"Aprobado/terminado"},{icon:"warning",text:"Rechazado"},{icon:"keyboard_return",text:"Regresado"},{icon:"swap_horiz",text:"Redireccionado"}],showDatosDialog:!1,showParticipantsDialog:!1,selectedStep:Object,processData:Object,localWidth:0,opened:!1,isLoaded:!1,onlyNestedDialogs:!0,processSnackbar:{style:String,active:!1,timeout:6e3,text:String}}),components:{DatosDialog:ot,ParticipantsDialog:Q},methods:{async loadProcess(){await this.$axios.get(this.$webServicesBaseURL+"Home/InstanciasPlantillas/Details/"+this.$route.params.idInstanciaPlantilla,{withCredentials:!0}).then(e=>{200==e.status&&21==e.data.code&&(this.processData=e.data.data)}).catch(e=>{null!=e.response&&404==e.response.status&&null!=e.response.data?this.showSnackbar(e.response.data.message,"error",1e3):this.showSnackbar(e,"error",1e3)})},closeActivity(){this.opened=!1,this.$emit("close"),this.$router.go(-1)},hola(){this.onlyNestedDialogs||(this.opened=!1,this.$emit("close"),this.$router.go(-1))},showSnackbar(e,t,a){switch(this.processSnackbar.active=!1,a){case 1:this.processSnackbar.text='Proceso "'+e+'" iniciado.';break;case 2:this.processSnackbar.text='Proceso "'+e+'" eliminado.';break;default:this.processSnackbar.text=e;break}this.processSnackbar.active=!0,this.processSnackbar.style=t},showApprovedStepCondition(e){return!!(null!=e.estadoNavigation&&"Aprobar"==e.estadoNavigation.nombre|"Aprobado"==e.estadoNavigation.nombre)},showRejectedStepCondition(e){return!!(null!=e.estadoNavigation&&"Rechazar"==e.estadoNavigation.nombre|"Rechazado"==e.estadoNavigation.nombre)},showReturnedStepCondition(e){return!!(null!=e.estadoNavigation&&"Regresar"==e.estadoNavigation.nombre|"Regresado"==e.estadoNavigation.nombre)},showRedirectedStepCondition(e){return!!(null!=e.estadoNavigation&&"Redireccionar"==e.estadoNavigation.nombre|"Redireccionado"==e.estadoNavigation.nombre)},getDatetimeParsed(e){var t=new Date(e);return t.getDate()+" "+t.toLocaleString("default",{month:"long"}).substring(0,3)+" "+t.getUTCFullYear()+" "+e.split("T")[1]},async initializeAll(){await this.loadProcess(),this.isLoaded=!0}},created(){this.initializeAll()},mounted(){this.opened=!0,this.localWidth=window.innerWidth,window.onresize=()=>{this.localWidth=window.innerWidth}}},rt=nt,lt=(a("5a50"),a("8414")),ct=a("1e06"),dt=Object(r["a"])(rt,Xe,Ze,!1,null,"985cc750",null),pt=dt.exports;c()(dt,{VApp:d["a"],VAppBar:p["a"],VBtn:u["a"],VCard:T["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:P["a"],VDialog:F["a"],VDivider:ne["a"],VIcon:m["a"],VListItem:b["a"],VListItemContent:g["a"],VListItemIcon:L["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VProgressCircular:N["a"],VRow:_["a"],VSnackbar:O["a"],VSpacer:w["a"],VTimeline:lt["a"],VTimelineItem:ct["a"],VToolbarTitle:D["a"]});var vt=a("2b0e"),ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{floating:"","expand-on-hover":e.isOpen,"disable-resize-watcher":"true","disable-route-watcher":"true",permanent:e.isOpen,height:"100%",app:""},model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}},[a("v-list",{attrs:{shaped:""}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",{attrs:{align:"center"}},[a("v-list-item-title",{staticClass:"headline uppercase"},[e._v("Proyecto Seminario")])],1)],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:e.inset}}),a("v-list-item",[a("v-list-item-avatar",{attrs:{size:"50"}},[a("v-img",{attrs:{src:e.userInfo.userProfileImg}})],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.userInfo.userName))]),a("v-spacer"),a("v-list-item-subtitle",[e._v(e._s(e.userInfo.userEmail))])],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-list-item-subtitle",{attrs:{align:"center"}},[e._v(e._s(1==e.userInfo.userLevel?"Administrador":"Estándar"))])],1)],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:e.inset}}),a("v-row",{staticClass:"pa-2"}),e._l(e.routes,function(t){return e.userInfo.userLevel<=t.levelRoute?a("v-list-item",{key:t.title,attrs:{link:"",to:t.link,"active-class":"deep-orange white--text"},on:{click:function(t){e.isActive=!e.isActive}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1):e._e()}),e._l(e.multiLevelRoutes,function(t){return a("v-list-group",{key:t.title,attrs:{"prepend-icon":t.icon,color:"white"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",[e._v(e._s(t.title))])]},proxy:!0}],null,!0)},e._l(t.childs,function(t){return a("v-list-item",{key:t.title,attrs:{link:"",to:t.link,"active-class":"deep-orange white--text"},on:{click:function(t){e.isActive=!e.isActive}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}),1)}),a("v-row",{staticClass:"pa-2"}),a("v-divider",{staticClass:"mx-2",attrs:{inset:e.inset}}),a("v-subheader",[e._v("Cuenta")]),a("v-list-item",{attrs:{link:""},on:{click:function(t){e.isActive=!e.isActive,e.dialog=!0}}},[a("v-list-item-icon",[a("v-icon",[e._v("exit_to_app")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Cerrar sesión")])],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Confirmación")]),a("v-card-text",[e._v("\n            Desea cerrar sesión ?\n          ")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n              No\n            ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.log_out()}}},[e._v("\n              Si\n            ")])],1)],1)],1)],2)],1),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("transition",{attrs:{name:"fade-transition"}},[a("router-view",{on:{openClose:e.openCloseDrawer}})],1)],1)],1)],1)},mt=[],ht={name:"App",data:()=>({userInfo:{userProfileImg:String,userName:String,userEmail:String,userLevel:String},routes:[{title:"Inicio",icon:"home",link:"/Inicio",levelRoute:2},{title:"Usuarios",icon:"people",link:"/Usuarios",levelRoute:1},{title:"Plantillas",icon:"grid_on",link:"/Plantillas",levelRoute:1},{title:"Actividades",icon:"dashboard",link:"/Actividades",levelRoute:2}],globalWidth:window.innerWidth,isOpen:!0,isActive:!0,dialog:!1}),created(){this.globalWidth=window.innerWidth,this.globalWidth<650?this.isOpen=!1:this.isOpen=!0},destroyed(){},beforeCreate(){},methods:{openCloseDrawer(){this.isActive,this.isActive=!this.isActive},log_out(){this.$axios.get("https://localhost:44354/Home/Log_out",{withCredentials:!0}).then(e=>{document.location.reload(!0)}),this.dialog=!1}},mounted(){this.userInfo.userProfileImg=this.$session_oauthToken.picture,this.userInfo.userName=this.$session_token.user_name,this.userInfo.userEmail=this.$session_oauthToken.email,this.userInfo.userLevel=this.$session_token.user_level,window.onresize=()=>{this.globalWidth=window.innerWidth,this.globalWidth<650?this.isOpen=!1:this.isOpen=!0}}},bt=ht,gt=a("a523"),ft=a("a75b"),_t=a("adda"),wt=a("56b0"),Dt=a("8270"),kt=a("f774"),Ct=a("e0c7"),St=Object(r["a"])(bt,ut,mt,!1,null,null,null),xt=St.exports;c()(St,{VApp:d["a"],VBtn:u["a"],VCard:T["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VContainer:gt["a"],VContent:ft["a"],VDialog:F["a"],VDivider:ne["a"],VIcon:m["a"],VImg:_t["a"],VList:h["a"],VListGroup:wt["a"],VListItem:b["a"],VListItemAvatar:Dt["a"],VListItemContent:g["a"],VListItemIcon:L["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VNavigationDrawer:kt["a"],VRow:_["a"],VSpacer:w["a"],VSubheader:Ct["a"]});var yt=a("f309");a("5363");vt["a"].use(yt["a"]);var Vt=new yt["a"]({icons:{iconfont:"mdi"}}),Tt=a("2b27"),It=a.n(Tt),Pt=a("bc3a"),Ft=a.n(Pt),$t=a("a7fe"),At=a.n($t),Rt=a("8c4f");vt["a"].config.productionTip=!1,vt["a"].use(It.a),vt["a"].use(At.a,Ft.a),vt["a"].use(Rt["a"]);const Lt=e=>{for(var t=e+"=",a=decodeURIComponent(document.cookie),s=a.split(";"),i=0;i<s.length;i++){var o=s[i];while(" "==o.charAt(0))o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},Nt=(e,t,a)=>{if(void 0==vt["a"].prototype.$session_token){let e=JSON.parse(atob(Lt("session_token").split(".")[1]));if(1==e.user_level)return void a();a("/")}else{if(1==vt["a"].prototype.$session_token.user_level)return void a();a("/")}},Ut=new Rt["a"]({base:"/Home/",routes:[{path:"/",redirect:"Inicio"},{path:"/Inicio",component:C,name:"Inicio"},{path:"/Usuarios",component:B,name:"Usuarios",beforeEnter:Nt},{path:"/Plantillas",component:me,name:"Plantillas",beforeEnter:Nt,children:[{path:"Detalle/:idPlantilla",component:le,name:"Plantilla",beforeEnter:Nt}]},{path:"/Actividades",component:Qe,name:"Actividades"},{path:"/Procesos",component:we,name:"Mis procesos",beforeEnter:Nt,children:[{path:"Detalle/:idInstanciaPlantilla",component:pt,name:"Proceso",beforeEnter:Nt}]},{path:"/ListaProcesos",component:ye,name:"Procesos",beforeEnter:Nt},{path:"/Tareas",component:ze,name:"Mis tareas"}]});new vt["a"]({vuetify:Vt,router:Ut,render:e=>e(xt),beforeCreate(){this.$vuetify.theme.dark=!0,vt["a"].prototype.$webServicesBaseURL="https://localhost:44354/",vt["a"].prototype.$axios=Ft.a,vt["a"].prototype.$drawerState=!1,vt["a"].prototype.$app_bar_actions=[{index:1,title:"Ajustes"},{index:2,title:"Acerca de..."}],vt["a"].prototype.$session_oauthToken=JSON.parse(atob(this.$cookies.get("oauth_session_token").split(".")[1])),vt["a"].prototype.$session_token=JSON.parse(atob(this.$cookies.get("session_token").split(".")[1]))}}).$mount("#app")},"5a50":function(e,t,a){"use strict";var s=a("70ae"),i=a.n(s);i.a},"70ae":function(e,t,a){},a55c:function(e,t,a){"use strict";var s=a("d59d"),i=a.n(s);i.a},d59d:function(e,t,a){}});
//# sourceMappingURL=app.d8a3ff68.js.map